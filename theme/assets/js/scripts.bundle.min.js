"use strict";var KTApp=function(){var settings={},initTooltip=function(el){var theme=el.data("theme")?"tooltip-"+el.data("theme"):"",width="auto"==el.data("width")?"tooltop-auto-width":"",trigger=el.data("trigger")?el.data("trigger"):"hover";$(el).tooltip({trigger:trigger,template:'<div class="tooltip '+theme+" "+width+'" role="tooltip">                <div class="arrow"></div>                <div class="tooltip-inner"></div>            </div>'})},initTooltips=function(){$('[data-toggle="tooltip"]').each((function(){initTooltip($(this))}))},initPopover=function(el){var skin=el.data("skin")?"popover-"+el.data("skin"):"",triggerValue=el.data("trigger")?el.data("trigger"):"hover";el.popover({trigger:triggerValue,template:'            <div class="popover '+skin+'" role="tooltip">                <div class="arrow"></div>                <h3 class="popover-header"></h3>                <div class="popover-body"></div>            </div>'})},initPopovers=function(){$('[data-toggle="popover"]').each((function(){initPopover($(this))}))},initFileInput=function(){$(".custom-file-input").on("change",(function(){var fileName=$(this).val();$(this).next(".custom-file-label").addClass("selected").html(fileName)}))},initScroll=function(){$('[data-scroll="true"]').each((function(){var el=$(this);KTUtil.scrollInit(this,{mobileNativeScroll:!0,handleWindowResize:!0,rememberPosition:"true"==el.data("remember-position")})}))},initAlerts=function(){$("body").on("click","[data-close=alert]",(function(){$(this).closest(".alert").hide()}))},initCard=function(el,options){var el=$(el),card=new KTCard(el[0],options)},initCards=function(){$('[data-card="true"]').each((function(){var el=$(this),options={};!0!==el.data("data-card-initialized")&&(initCard(el,options),el.data("data-card-initialized",!0))}))},initStickyCard=function(){if("undefined"!=typeof Sticky)var sticky=new Sticky('[data-sticky="true"]')},initAbsoluteDropdown=function(context){var dropdownMenu;context&&$("body").on("show.bs.dropdown",context,(function(e){dropdownMenu=$(e.target).find(".dropdown-menu"),$("body").append(dropdownMenu.detach()),dropdownMenu.css("display","block"),dropdownMenu.position({my:"right top",at:"right bottom",of:$(e.relatedTarget)})})).on("hide.bs.dropdown",context,(function(e){$(e.target).append(dropdownMenu.detach()),dropdownMenu.hide()}))},initAbsoluteDropdowns=function(){$("body").on("show.bs.dropdown",(function(e){var $toggler=$(e.target).find("[data-attach='body']");if(0!==$toggler.length){var $dropdownMenu,$detachedDropdownMenu=$(e.target).find(".dropdown-menu").detach();$toggler.data("dropdown-menu",$detachedDropdownMenu),$("body").append($detachedDropdownMenu),$detachedDropdownMenu.css("display","block"),$detachedDropdownMenu.position({my:"right top",at:"right bottom",of:$(e.relatedTarget)})}})),$("body").on("hide.bs.dropdown",(function(e){var $toggler=$(e.target).find("[data-attach='body']");if(0!==$toggler.length){var $detachedDropdownMenu=$toggler.data("dropdown-menu");$(e.target).append($detachedDropdownMenu.detach()),$detachedDropdownMenu.hide()}}))};return{init:function(settingsArray){settingsArray&&(settings=settingsArray),KTApp.initComponents()},initComponents:function(){initScroll(),initTooltips(),initPopovers(),initAlerts(),initFileInput(),initCards(),initStickyCard(),initAbsoluteDropdowns()},initTooltips:function(){initTooltips()},initTooltip:function(el){initTooltip(el)},initPopovers:function(){initPopovers()},initPopover:function(el){initPopover(el)},initCard:function(el,options){initCard(el,options)},initCards:function(){initCards()},initSticky:function(){initSticky()},initAbsoluteDropdown:function(context){initAbsoluteDropdown(context)},block:function(target,options){var el=$(target),html,version,state,size,spinner='<span class="spinner '+((options=$.extend(!0,{opacity:.05,overlayColor:"#000000",type:"",size:"",state:"primary",centerX:!0,centerY:!0,message:"",shadow:!0,width:"auto"},options)).type?"spinner-"+options.type:"")+" "+(options.state?"spinner-"+options.state:"")+" "+(options.size?"spinner-"+options.size:"")+'"></span';if(options.message&&options.message.length>0){var classes="blockui "+(!1===options.shadow?"blockui":"");html='<div class="'+classes+'"><span>'+options.message+"</span>"+spinner+"</div>";var el=document.createElement("div");$("body").prepend(el),KTUtil.addClass(el,classes),el.innerHTML=html,options.width=KTUtil.actualWidth(el)+10,KTUtil.remove(el),"body"==target&&(html='<div class="'+classes+'" style="margin-left:-'+options.width/2+'px;"><span>'+options.message+"</span><span>"+spinner+"</span></div>")}else html=spinner;var params={message:html,centerY:options.centerY,centerX:options.centerX,css:{top:"30%",left:"50%",border:"0",padding:"0",backgroundColor:"none",width:options.width},overlayCSS:{backgroundColor:options.overlayColor,opacity:options.opacity,cursor:"wait",zIndex:"body"==target?1100:10},onUnblock:function(){el&&el[0]&&(KTUtil.css(el[0],"position",""),KTUtil.css(el[0],"zoom",""))}},el;"body"==target?(params.css.top="50%",$.blockUI(params)):(el=$(target)).block(params)},unblock:function(target){target&&"body"!=target?$(target).unblock():$.unblockUI()},blockPage:function(options){return KTApp.block("body",options)},unblockPage:function(){return KTApp.unblock("body")},getSettings:function(){return settings}}}();"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTApp),$(document).ready((function(){KTApp.init(KTAppSettings)}));var KTCard=function(elementId,options){var the=this,init=!1,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={toggleSpeed:400,sticky:{releseOnReverse:!1,offset:300,zIndex:101}},Plugin={construct:function(options){return KTUtil.data(element).has("card")?the=KTUtil.data(element).get("card"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("card",the)),the},init:function(options){the.element=element,the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options),the.header=KTUtil.child(element,".card-header"),the.footer=KTUtil.child(element,".card-footer"),KTUtil.child(element,".card-body")?the.body=KTUtil.child(element,".card-body"):KTUtil.child(element,".form")&&(the.body=KTUtil.child(element,".form"))},build:function(){var remove=KTUtil.find(the.header,"[data-card-tool=remove]");remove&&KTUtil.addEvent(remove,"click",(function(e){e.preventDefault(),Plugin.remove()}));var reload=KTUtil.find(the.header,"[data-card-tool=reload]");reload&&KTUtil.addEvent(reload,"click",(function(e){e.preventDefault(),Plugin.reload()}));var toggle=KTUtil.find(the.header,"[data-card-tool=toggle]");toggle&&KTUtil.addEvent(toggle,"click",(function(e){e.preventDefault(),Plugin.toggle()}))},initSticky:function(){var lastScrollTop=0,offset=the.options.sticky.offset;the.header&&window.addEventListener("scroll",Plugin.onScrollSticky)},onScrollSticky:function(e){var offset=the.options.sticky.offset;if(!isNaN(offset)){var st=KTUtil.getScrollTop();st>=offset&&!1===KTUtil.hasClass(body,"card-sticky-on")?(Plugin.eventTrigger("stickyOn"),KTUtil.addClass(body,"card-sticky-on"),Plugin.updateSticky()):1.5*st<=offset&&KTUtil.hasClass(body,"card-sticky-on")&&(Plugin.eventTrigger("stickyOff"),KTUtil.removeClass(body,"card-sticky-on"),Plugin.resetSticky())}},updateSticky:function(){var top,left,right;the.header&&(KTUtil.hasClass(body,"card-sticky-on")&&(top=the.options.sticky.position.top instanceof Function?parseInt(the.options.sticky.position.top.call(this,the)):parseInt(the.options.sticky.position.top),left=the.options.sticky.position.left instanceof Function?parseInt(the.options.sticky.position.left.call(this,the)):parseInt(the.options.sticky.position.left),right=the.options.sticky.position.right instanceof Function?parseInt(the.options.sticky.position.right.call(this,the)):parseInt(the.options.sticky.position.right),KTUtil.css(the.header,"z-index",the.options.sticky.zIndex),KTUtil.css(the.header,"top",top+"px"),KTUtil.css(the.header,"left",left+"px"),KTUtil.css(the.header,"right",right+"px")))},resetSticky:function(){the.header&&!1===KTUtil.hasClass(body,"card-sticky-on")&&(KTUtil.css(the.header,"z-index",""),KTUtil.css(the.header,"top",""),KTUtil.css(the.header,"left",""),KTUtil.css(the.header,"right",""))},remove:function(){!1!==Plugin.eventTrigger("beforeRemove")&&(KTUtil.remove(element),Plugin.eventTrigger("afterRemove"))},setContent:function(html){html&&(the.body.innerHTML=html)},getBody:function(){return the.body},getSelf:function(){return element},reload:function(){Plugin.eventTrigger("reload")},toggle:function(){KTUtil.hasClass(element,"card-collapse")||KTUtil.hasClass(element,"card-collapsed")?Plugin.expand():Plugin.collapse()},collapse:function(){!1!==Plugin.eventTrigger("beforeCollapse")&&(KTUtil.slideUp(the.body,the.options.toggleSpeed,(function(){Plugin.eventTrigger("afterCollapse")})),KTUtil.addClass(element,"card-collapse"))},expand:function(){!1!==Plugin.eventTrigger("beforeExpand")&&(KTUtil.slideDown(the.body,the.options.toggleSpeed,(function(){Plugin.eventTrigger("afterExpand")})),KTUtil.removeClass(element,"card-collapse"),KTUtil.removeClass(element,"card-collapsed"))},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the)}}},addEvent:function(name,handler,one){return the.events.push({name:name,handler:handler,one:one,fired:!1}),the}};return the.setDefaults=function(options){defaultOptions=options},the.remove=function(){return Plugin.remove(html)},the.initSticky=function(){return Plugin.initSticky()},the.updateSticky=function(){return Plugin.updateSticky()},the.resetSticky=function(){return Plugin.resetSticky()},the.destroySticky=function(){Plugin.resetSticky(),window.removeEventListener("scroll",Plugin.onScrollSticky)},the.reload=function(){return Plugin.reload()},the.setContent=function(html){return Plugin.setContent(html)},the.toggle=function(){return Plugin.toggle()},the.collapse=function(){return Plugin.collapse()},the.expand=function(){return Plugin.expand()},the.getBody=function(){return Plugin.getBody()},the.getSelf=function(){return Plugin.getSelf()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTCard);var KTCookie={getCookie:function(name){var matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):void 0},setCookie:function(name,value,options){options||(options={}),(options=Object.assign({},{path:"/"},options)).expires instanceof Date&&(options.expires=options.expires.toUTCString());var updatedCookie=encodeURIComponent(name)+"="+encodeURIComponent(value);for(var optionKey in options)if(options.hasOwnProperty(optionKey)){updatedCookie+="; "+optionKey;var optionValue=options[optionKey];!0!==optionValue&&(updatedCookie+="="+optionValue)}document.cookie=updatedCookie},deleteCookie:function(name){setCookie(name,"",{"max-age":-1})}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTCookie);var KTDialog=function(options){var the=this,element,body=KTUtil.getBody(),defaultOptions={placement:"top center",type:"loader",width:100,state:"default",message:"Loading..."},Plugin={construct:function(options){return Plugin.init(options),the},init:function(options){the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options),the.state=!1},show:function(){return Plugin.eventTrigger("show"),element=document.createElement("DIV"),KTUtil.setHTML(element,the.options.message),KTUtil.addClass(element,"dialog dialog-shown"),KTUtil.addClass(element,"dialog-"+the.options.state),KTUtil.addClass(element,"dialog-"+the.options.type),"top center"==the.options.placement&&KTUtil.addClass(element,"dialog-top-center"),body.appendChild(element),the.state="shown",Plugin.eventTrigger("shown"),the},hide:function(){return element&&(Plugin.eventTrigger("hide"),element.remove(),the.state="hidden",Plugin.eventTrigger("hidden")),the},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the)}}},addEvent:function(name,handler,one){return the.events.push({name:name,handler:handler,one:one,fired:!1}),the}};return the.setDefaults=function(options){defaultOptions=options},the.shown=function(){return"shown"==the.state},the.hidden=function(){return"hidden"==the.state},the.show=function(){return Plugin.show()},the.hide=function(){return Plugin.hide()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),the};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTDialog);var KTHeader=function(elementId,options){var the=this,init=!1,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(void 0!==element){var defaultOptions={offset:{desktop:!0,tabletAndMobile:!0},releseOnReverse:{desktop:!1,tabletAndMobile:!1}},Plugin={construct:function(options){return KTUtil.data(element).has("header")?the=KTUtil.data(element).get("header"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("header",the)),the},init:function(options){the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){var eventTriggerState=!0,lastScrollTop=0;window.addEventListener("scroll",(function(){var offset=0,st,attrName;KTUtil.isBreakpointDown("lg")&&!1===the.options.offset.tabletAndMobile||KTUtil.isBreakpointUp("lg")&&!1===the.options.offset.desktop||(KTUtil.isBreakpointUp("lg")?offset=the.options.offset.desktop:KTUtil.isBreakpointDown("lg")&&(offset=the.options.offset.tabletAndMobile),st=KTUtil.getScrollTop(),KTUtil.isBreakpointDown("lg")&&the.options.releseOnReverse.tabletAndMobile||KTUtil.isBreakpointUp("lg")&&the.options.releseOnReverse.desktop?(st>offset&&lastScrollTop<st?(!1===body.hasAttribute("data-header-scroll")&&body.setAttribute("data-header-scroll","on"),eventTriggerState&&(Plugin.eventTrigger("scrollOn",the),eventTriggerState=!1)):(!0===body.hasAttribute("data-header-scroll")&&body.removeAttribute("data-header-scroll"),0==eventTriggerState&&(Plugin.eventTrigger("scrollOff",the),eventTriggerState=!0)),lastScrollTop=st):st>offset?(!1===body.hasAttribute("data-header-scroll")&&body.setAttribute("data-header-scroll","on"),eventTriggerState&&(Plugin.eventTrigger("scrollOn",the),eventTriggerState=!1)):(!0===body.hasAttribute("data-header-scroll")&&body.removeAttribute("data-header-scroll"),0==eventTriggerState&&(Plugin.eventTrigger("scrollOff",the),eventTriggerState=!0)))}))},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the,args);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the,args)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};return the.setDefaults=function(options){defaultOptions=options},the.on=function(name,handler){return Plugin.addEvent(name,handler)},Plugin.construct.apply(the,[options]),init=!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTHeader);var KTImageInput=function(elementId,options){var the=this,init=!1,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={editMode:!1},Plugin={construct:function(options){return KTUtil.data(element).has("imageinput")?the=KTUtil.data(element).get("imageinput"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("imageinput",the)),the},init:function(options){the.element=element,the.events=[],the.input=KTUtil.find(element,'input[type="file"]'),the.wrapper=KTUtil.find(element,".image-input-wrapper"),the.cancel=KTUtil.find(element,'[data-action="cancel"]'),the.remove=KTUtil.find(element,'[data-action="remove"]'),the.src=KTUtil.css(the.wrapper,"backgroundImage"),the.hidden=KTUtil.find(element,'input[type="hidden"]'),the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){KTUtil.addEvent(the.input,"change",(function(e){if(e.preventDefault(),the.input&&the.input.files&&the.input.files[0]){var reader=new FileReader;reader.onload=function(e){KTUtil.css(the.wrapper,"background-image","url("+e.target.result+")")},reader.readAsDataURL(the.input.files[0]),KTUtil.addClass(the.element,"image-input-changed"),KTUtil.removeClass(the.element,"image-input-empty"),Plugin.eventTrigger("change")}})),KTUtil.addEvent(the.cancel,"click",(function(e){e.preventDefault(),Plugin.eventTrigger("cancel"),KTUtil.removeClass(the.element,"image-input-changed"),KTUtil.removeClass(the.element,"image-input-empty"),KTUtil.css(the.wrapper,"background-image",the.src),the.input.value="",the.hidden&&(the.hidden.value="0")})),KTUtil.addEvent(the.remove,"click",(function(e){e.preventDefault(),Plugin.eventTrigger("remove"),KTUtil.removeClass(the.element,"image-input-changed"),KTUtil.addClass(the.element,"image-input-empty"),KTUtil.css(the.wrapper,"background-image","none"),the.input.value="",the.hidden&&(the.hidden.value="1")}))},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the)}}},addEvent:function(name,handler,one){return the.events.push({name:name,handler:handler,one:one,fired:!1}),the}};return the.setDefaults=function(options){defaultOptions=options},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTImageInput);var KTMenu=function(elementId,options){var the=this,init=!1,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={scroll:{rememberPosition:!1},accordion:{slideSpeed:200,autoScroll:!1,autoScrollSpeed:1200,expandAll:!0},dropdown:{timeout:500}},Plugin={construct:function(options){return KTUtil.data(element).has("menu")?the=KTUtil.data(element).get("menu"):(Plugin.init(options),Plugin.reset(),Plugin.build(),KTUtil.data(element).set("menu",the)),the},init:function(options){the.events=[],the.eventHandlers={},the.options=KTUtil.deepExtend({},defaultOptions,options),the.pauseDropdownHoverTime=0,the.uid=KTUtil.getUniqueID()},update:function(options){the.options=KTUtil.deepExtend({},defaultOptions,options),the.pauseDropdownHoverTime=0,Plugin.reset(),the.eventHandlers={},Plugin.build(),KTUtil.data(element).set("menu",the)},reload:function(){Plugin.reset(),Plugin.build(),Plugin.resetSubmenuProps()},build:function(){the.eventHandlers.event_1=KTUtil.on(element,".menu-toggle","click",Plugin.handleSubmenuAccordion),("dropdown"===Plugin.getSubmenuMode()||Plugin.isConditionalSubmenuDropdown())&&(the.eventHandlers.event_2=KTUtil.on(element,'[data-menu-toggle="hover"]',"mouseover",Plugin.handleSubmenuDrodownHoverEnter),the.eventHandlers.event_3=KTUtil.on(element,'[data-menu-toggle="hover"]',"mouseout",Plugin.handleSubmenuDrodownHoverExit),the.eventHandlers.event_4=KTUtil.on(element,'[data-menu-toggle="click"] > .menu-toggle, [data-menu-toggle="click"] > .menu-link .menu-toggle',"click",Plugin.handleSubmenuDropdownClick),the.eventHandlers.event_5=KTUtil.on(element,'[data-menu-toggle="tab"] > .menu-toggle, [data-menu-toggle="tab"] > .menu-link .menu-toggle',"click",Plugin.handleSubmenuDropdownTabClick)),the.eventHandlers.event_6=KTUtil.on(element,".menu-item > .menu-link:not(.menu-toggle):not(.menu-link-toggle-skip)","click",Plugin.handleLinkClick),the.options.scroll&&the.options.scroll.height&&Plugin.scrollInit()},reset:function(){KTUtil.off(element,"click",the.eventHandlers.event_1),KTUtil.off(element,"mouseover",the.eventHandlers.event_2),KTUtil.off(element,"mouseout",the.eventHandlers.event_3),KTUtil.off(element,"click",the.eventHandlers.event_4),KTUtil.off(element,"click",the.eventHandlers.event_5),KTUtil.off(element,"click",the.eventHandlers.event_6)},scrollInit:function(){the.options.scroll&&the.options.scroll.height?(KTUtil.scrollDestroy(element,!0),KTUtil.scrollInit(element,{mobileNativeScroll:!0,windowScroll:!1,resetHeightOnDestroy:!0,handleWindowResize:!0,height:the.options.scroll.height,rememberPosition:the.options.scroll.rememberPosition})):KTUtil.scrollDestroy(element,!0)},scrollUpdate:function(){the.options.scroll&&the.options.scroll.height&&KTUtil.scrollUpdate(element)},scrollTop:function(){the.options.scroll&&the.options.scroll.height&&KTUtil.scrollTop(element)},getSubmenuMode:function(el){return KTUtil.isBreakpointUp("lg")?el&&KTUtil.hasAttr(el,"data-menu-toggle")&&"hover"==KTUtil.attr(el,"data-menu-toggle")?"dropdown":KTUtil.isset(the.options.submenu,"desktop.state.body")?KTUtil.hasClasses(body,the.options.submenu.desktop.state.body)?the.options.submenu.desktop.state.mode:the.options.submenu.desktop.default:KTUtil.isset(the.options.submenu,"desktop")?the.options.submenu.desktop:void 0:KTUtil.isBreakpointUp("md")&&KTUtil.isBreakpointDown("lg")&&KTUtil.isset(the.options.submenu,"tablet")?the.options.submenu.tablet:!(!KTUtil.isBreakpointDown("md")||!KTUtil.isset(the.options.submenu,"mobile"))&&the.options.submenu.mobile},isConditionalSubmenuDropdown:function(){return!(!KTUtil.isBreakpointUp("lg")||!KTUtil.isset(the.options.submenu,"desktop.state.body"))},resetSubmenuProps:function(e){var submenus=KTUtil.findAll(element,".menu-submenu");if(submenus)for(var i=0,len=submenus.length;i<len;i++){var submenu=submenus[0];KTUtil.css(submenu,"display",""),KTUtil.css(submenu,"overflow",""),submenu.hasAttribute("data-hor-direction")&&(KTUtil.removeClass(submenu,"menu-submenu-left"),KTUtil.removeClass(submenu,"menu-submenu-right"),KTUtil.addClass(submenu,submenu.getAttribute("data-hor-direction")))}},handleSubmenuDrodownHoverEnter:function(e){if("accordion"!==Plugin.getSubmenuMode(this)&&!1!==the.resumeDropdownHover()){var item=this;"1"==this.getAttribute("data-hover")&&(this.removeAttribute("data-hover"),clearTimeout(this.getAttribute("data-timeout")),this.removeAttribute("data-timeout")),Plugin.showSubmenuDropdown(this)}},handleSubmenuDrodownHoverExit:function(e){if(!1!==the.resumeDropdownHover()&&"accordion"!==Plugin.getSubmenuMode(this)){var item=this,time=the.options.dropdown.timeout,timeout=setTimeout((function(){"1"==item.getAttribute("data-hover")&&Plugin.hideSubmenuDropdown(item,!0)}),time);item.setAttribute("data-hover","1"),item.setAttribute("data-timeout",timeout)}},handleSubmenuDropdownClick:function(e){if("accordion"!==Plugin.getSubmenuMode(this)){var item=this.closest(".menu-item"),result;!1!==Plugin.eventTrigger("submenuToggle",this,e)&&"accordion"!=item.getAttribute("data-menu-submenu-mode")&&(!1===KTUtil.hasClass(item,"menu-item-hover")?(KTUtil.addClass(item,"menu-item-open-dropdown"),Plugin.showSubmenuDropdown(item)):(KTUtil.removeClass(item,"menu-item-open-dropdown"),Plugin.hideSubmenuDropdown(item,!0)),e.preventDefault())}},handleSubmenuDropdownTabClick:function(e){if("accordion"!==Plugin.getSubmenuMode(this)){var item=this.closest(".menu-item"),result;!1!==Plugin.eventTrigger("submenuToggle",this,e)&&"accordion"!=item.getAttribute("data-menu-submenu-mode")&&(0==KTUtil.hasClass(item,"menu-item-hover")&&(KTUtil.addClass(item,"menu-item-open-dropdown"),Plugin.showSubmenuDropdown(item)),e.preventDefault())}},handleLinkClick:function(e){var submenu=this.closest(".menu-item.menu-item-submenu"),result;!1!==Plugin.eventTrigger("linkClick",this,e)&&submenu&&"dropdown"===Plugin.getSubmenuMode(submenu)&&Plugin.hideSubmenuDropdowns()},handleSubmenuDropdownClose:function(e,el){if("accordion"!==Plugin.getSubmenuMode(el)){var shown=element.querySelectorAll(".menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)");if(shown.length>0&&!1===KTUtil.hasClass(el,"menu-toggle")&&0===el.querySelectorAll(".menu-toggle").length)for(var i=0,len=shown.length;i<len;i++)Plugin.hideSubmenuDropdown(shown[0],!0)}},handleSubmenuAccordion:function(e,el){var query,item=el||this,result;if(!1!==Plugin.eventTrigger("submenuToggle",this,e))if("dropdown"===Plugin.getSubmenuMode(el)&&(query=item.closest(".menu-item"))&&"accordion"!=query.getAttribute("data-menu-submenu-mode"))e.preventDefault();else{var li=item.closest(".menu-item"),submenu=KTUtil.child(li,".menu-submenu, .menu-inner");if(!KTUtil.hasClass(item.closest(".menu-item"),"menu-item-open-always")&&li&&submenu){e.preventDefault();var speed=the.options.accordion.slideSpeed,hasClosables=!1;if(!1===KTUtil.hasClass(li,"menu-item-open")){if(!1===the.options.accordion.expandAll){var subnav=item.closest(".menu-nav, .menu-subnav"),closables=KTUtil.children(subnav,".menu-item.menu-item-open.menu-item-submenu:not(.menu-item-here):not(.menu-item-open-always)");if(subnav&&closables)for(var i=0,len=closables.length;i<len;i++){var el_=closables[0],submenu_=KTUtil.child(el_,".menu-submenu");submenu_&&KTUtil.slideUp(submenu_,speed,(function(){Plugin.scrollUpdate(),KTUtil.removeClass(el_,"menu-item-open")}))}}KTUtil.slideDown(submenu,speed,(function(){Plugin.scrollToItem(item),Plugin.scrollUpdate(),Plugin.eventTrigger("submenuToggle",submenu,e)})),KTUtil.addClass(li,"menu-item-open")}else KTUtil.slideUp(submenu,speed,(function(){Plugin.scrollToItem(item),Plugin.eventTrigger("submenuToggle",submenu,e)})),KTUtil.removeClass(li,"menu-item-open")}}},scrollToItem:function(item){KTUtil.isBreakpointUp("lg")&&the.options.accordion.autoScroll&&"1"!==element.getAttribute("data-menu-scroll")&&KTUtil.scrollTo(item,the.options.accordion.autoScrollSpeed)},hideSubmenuDropdown:function(item,classAlso){classAlso&&(KTUtil.removeClass(item,"menu-item-hover"),KTUtil.removeClass(item,"menu-item-active-tab")),item.removeAttribute("data-hover"),item.getAttribute("data-menu-toggle-class")&&KTUtil.removeClass(body,item.getAttribute("data-menu-toggle-class"));var timeout=item.getAttribute("data-timeout");item.removeAttribute("data-timeout"),clearTimeout(timeout)},hideSubmenuDropdowns:function(){var items;if(items=element.querySelectorAll('.menu-item-submenu.menu-item-hover:not(.menu-item-tabs):not([data-menu-toggle="tab"])'))for(var j=0,cnt=items.length;j<cnt;j++)Plugin.hideSubmenuDropdown(items[j],!0)},showSubmenuDropdown:function(item){var list=element.querySelectorAll(".menu-item-submenu.menu-item-hover, .menu-item-submenu.menu-item-active-tab");if(list)for(var i=0,len=list.length;i<len;i++){var el=list[i];item!==el&&!1===el.contains(item)&&!1===item.contains(el)&&Plugin.hideSubmenuDropdown(el,!0)}KTUtil.addClass(item,"menu-item-hover");var submenu=KTUtil.find(item,".menu-submenu");submenu&&!1===submenu.hasAttribute("data-hor-direction")&&(KTUtil.hasClass(submenu,"menu-submenu-left")?submenu.setAttribute("data-hor-direction","menu-submenu-left"):KTUtil.hasClass(submenu,"menu-submenu-right")&&submenu.setAttribute("data-hor-direction","menu-submenu-right")),submenu&&!0===KTUtil.isOffscreen(submenu,"left",15)?(KTUtil.removeClass(submenu,"menu-submenu-left"),KTUtil.addClass(submenu,"menu-submenu-right")):submenu&&!0===KTUtil.isOffscreen(submenu,"right",15)&&(KTUtil.removeClass(submenu,"menu-submenu-right"),KTUtil.addClass(submenu,"menu-submenu-left")),item.getAttribute("data-menu-toggle-class")&&KTUtil.addClass(body,item.getAttribute("data-menu-toggle-class"))},createSubmenuDropdownClickDropoff:function(el){var query,zIndex=(query=KTUtil.child(el,".menu-submenu")?KTUtil.css(query,"z-index"):0)-1,dropoff=document.createElement('<div class="menu-dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: '+zIndex+'"></div>');body.appendChild(dropoff),KTUtil.addEvent(dropoff,"click",(function(e){e.stopPropagation(),e.preventDefault(),KTUtil.remove(this),Plugin.hideSubmenuDropdown(el,!0)}))},pauseDropdownHover:function(time){var date=new Date;the.pauseDropdownHoverTime=date.getTime()+time},resumeDropdownHover:function(){var date;return(new Date).getTime()>the.pauseDropdownHoverTime},resetActiveItem:function(item){for(var list,parents,i=0,len=(list=element.querySelectorAll(".menu-item-active")).length;i<len;i++){var el=list[0];KTUtil.removeClass(el,"menu-item-active"),KTUtil.hide(KTUtil.child(el,".menu-submenu"));for(var i_=0,len_=(parents=KTUtil.parents(el,".menu-item-submenu")||[]).length;i_<len_;i_++){var el_=parents[i];KTUtil.removeClass(el_,"menu-item-open"),KTUtil.hide(KTUtil.child(el_,".menu-submenu"))}}if(!1===the.options.accordion.expandAll&&(list=element.querySelectorAll(".menu-item-open")))for(var i=0,len=list.length;i<len;i++)KTUtil.removeClass(parents[0],"menu-item-open")},setActiveItem:function(item){Plugin.resetActiveItem();for(var parents=KTUtil.parents(item,".menu-item-submenu")||[],i=0,len=parents.length;i<len;i++)KTUtil.addClass(parents[i],"menu-item-open");KTUtil.addClass(item,"menu-item-active")},getBreadcrumbs:function(item){var query,breadcrumbs=[],link=KTUtil.child(item,".menu-link");breadcrumbs.push({text:query=KTUtil.child(link,".menu-text")?query.innerHTML:"",title:link.getAttribute("title"),href:link.getAttribute("href")});for(var parents=KTUtil.parents(item,".menu-item-submenu"),i=0,len=parents.length;i<len;i++){var submenuLink=KTUtil.child(parents[i],".menu-link");breadcrumbs.push({text:query=KTUtil.child(submenuLink,".menu-text")?query.innerHTML:"",title:submenuLink.getAttribute("title"),href:submenuLink.getAttribute("href")})}return breadcrumbs.reverse()},getPageTitle:function(item){var query;return KTUtil.child(item,".menu-text")?query.innerHTML:""},eventTrigger:function(name,target,e){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,target,e);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,target,e)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})},removeEvent:function(name){the.events[name]&&delete the.events[name]}};return the.setDefaults=function(options){defaultOptions=options},the.scrollUpdate=function(){return Plugin.scrollUpdate()},the.scrollReInit=function(){return Plugin.scrollInit()},the.scrollTop=function(){return Plugin.scrollTop()},the.setActiveItem=function(item){return Plugin.setActiveItem(item)},the.reload=function(){return Plugin.reload()},the.update=function(options){return Plugin.update(options)},the.getBreadcrumbs=function(item){return Plugin.getBreadcrumbs(item)},the.getPageTitle=function(item){return Plugin.getPageTitle(item)},the.getSubmenuMode=function(el){return Plugin.getSubmenuMode(el)},the.hideDropdown=function(item){Plugin.hideSubmenuDropdown(item,!0)},the.hideDropdowns=function(){Plugin.hideSubmenuDropdowns()},the.pauseDropdownHover=function(time){Plugin.pauseDropdownHover(time)},the.resumeDropdownHover=function(){return Plugin.resumeDropdownHover()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.off=function(name){return Plugin.removeEvent(name)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),KTUtil.addResizeHandler((function(){init&&the.reload()})),init=!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTMenu),document.addEventListener("click",(function(e){var body,query;if(query=KTUtil.getByTagName("body")[0].querySelectorAll('.menu-nav .menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)[data-menu-toggle="click"]'))for(var i=0,len=query.length;i<len;i++){var element=query[i].closest(".menu-nav").parentNode;if(element){var the=KTUtil.data(element).get("menu");if(!the)break;if(!the||"dropdown"!==the.getSubmenuMode())break;e.target!==element&&!1===element.contains(e.target)&&the.hideDropdowns()}}}));var KTOffcanvas=function(elementId,options){var the=this,init=!1,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={attrCustom:""},Plugin={construct:function(options){return KTUtil.data(element).has("offcanvas")?the=KTUtil.data(element).get("offcanvas"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("offcanvas",the)),the},init:function(options){the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options),the.classBase=the.options.baseClass,the.attrCustom=the.options.attrCustom,the.classShown=the.classBase+"-on",the.classOverlay=the.classBase+"-overlay",the.target,the.state=KTUtil.hasClass(element,the.classShown)?"shown":"hidden"},build:function(){if(the.options.toggleBy)if("string"==typeof the.options.toggleBy)KTUtil.addEvent(KTUtil.getById(the.options.toggleBy),"click",(function(e){e.preventDefault(),the.target=this,Plugin.toggle()}));else if(the.options.toggleBy&&the.options.toggleBy[0])if(the.options.toggleBy[0].target)for(var i in the.options.toggleBy)KTUtil.addEvent(KTUtil.getById(the.options.toggleBy[i].target),"click",(function(e){e.preventDefault(),the.target=this,Plugin.toggle()}));else for(var i in the.options.toggleBy)KTUtil.addEvent(KTUtil.getById(the.options.toggleBy[i]),"click",(function(e){e.preventDefault(),the.target=this,Plugin.toggle()}));else the.options.toggleBy&&the.options.toggleBy.target&&KTUtil.addEvent(KTUtil.getById(the.options.toggleBy.target),"click",(function(e){e.preventDefault(),the.target=this,Plugin.toggle()}));var closeBy=KTUtil.getById(the.options.closeBy);closeBy&&KTUtil.addEvent(closeBy,"click",(function(e){e.preventDefault(),the.target=this,Plugin.hide()}))},isShown:function(){return"shown"==the.state},toggle:function(){Plugin.eventTrigger("toggle"),"shown"==the.state?Plugin.hide():Plugin.show()},show:function(){"shown"!=the.state&&(Plugin.eventTrigger("beforeShow"),Plugin.toggleClass("show"),KTUtil.attr(body,"data-offcanvas-"+the.classBase,"on"),KTUtil.addClass(element,the.classShown),the.attrCustom.length>0&&KTUtil.attr(body,"data-offcanvas-"+the.classCustom,"on"),the.state="shown",the.options.overlay&&(the.overlay=KTUtil.insertAfter(document.createElement("DIV"),element),KTUtil.addClass(the.overlay,the.classOverlay),KTUtil.addEvent(the.overlay,"click",(function(e){e.preventDefault(),Plugin.hide(the.target)}))),Plugin.eventTrigger("afterShow"))},hide:function(){"hidden"!=the.state&&(Plugin.eventTrigger("beforeHide"),Plugin.toggleClass("hide"),KTUtil.removeAttr(body,"data-offcanvas-"+the.classBase),KTUtil.removeClass(element,the.classShown),the.attrCustom.length>0&&KTUtil.removeAttr(body,"data-offcanvas-"+the.attrCustom),the.state="hidden",the.options.overlay&&the.overlay&&KTUtil.remove(the.overlay),Plugin.eventTrigger("afterHide"))},toggleClass:function(mode){var id=KTUtil.attr(the.target,"id"),toggleBy;if(the.options.toggleBy&&the.options.toggleBy[0]&&the.options.toggleBy[0].target)for(var i in the.options.toggleBy)the.options.toggleBy[i].target===id&&(toggleBy=the.options.toggleBy[i]);else the.options.toggleBy&&the.options.toggleBy.target&&(toggleBy=the.options.toggleBy);if(toggleBy){var el=KTUtil.getById(toggleBy.target);"show"===mode&&KTUtil.addClass(el,toggleBy.state),"hide"===mode&&KTUtil.removeClass(el,toggleBy.state)}},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the,args);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the,args)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};return the.setDefaults=function(options){defaultOptions=options},the.isShown=function(){return Plugin.isShown()},the.hide=function(){return Plugin.hide()},the.show=function(){return Plugin.show()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),init=!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTOffcanvas);var KTScrolltop=function(elementId,options){var the=this,init=!1,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={offset:300,speed:6e3},Plugin={construct:function(options){return KTUtil.data(element).has("scrolltop")?the=KTUtil.data(element).get("scrolltop"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("scrolltop",the)),the},init:function(options){the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){var timer;window.addEventListener("scroll",(function(){KTUtil.throttle(timer,(function(){Plugin.handle()}),200)})),KTUtil.addEvent(element,"click",Plugin.scroll)},handle:function(){var pos;KTUtil.getScrollTop()>the.options.offset?!1===body.hasAttribute("data-scrolltop")&&body.setAttribute("data-scrolltop","on"):!0===body.hasAttribute("data-scrolltop")&&body.removeAttribute("data-scrolltop")},scroll:function(e){e.preventDefault(),KTUtil.scrollTop(0,the.options.speed)},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the,args);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the,args)}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};return the.setDefaults=function(options){defaultOptions=options},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),init=!0,the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTScrolltop);var KTToggle=function(toggleElement,targetElement,options){var the=this,init=!1,element=toggleElement,target=targetElement;if(element){var defaultOptions={targetToggleMode:"class"},Plugin={construct:function(options){return KTUtil.data(element).has("toggle")?the=KTUtil.data(element).get("toggle"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("toggle",the)),the},init:function(options){the.element=element,the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options),the.target=target,the.targetState=the.options.targetState,the.toggleState=the.options.toggleState,"class"==the.options.targetToggleMode?the.state=KTUtil.hasClasses(the.target,the.targetState)?"on":"off":the.state=KTUtil.hasAttr(the.target,"data-"+the.targetState)?KTUtil.attr(the.target,"data-"+the.targetState):"off"},build:function(){KTUtil.addEvent(element,"mouseup",Plugin.toggle)},toggle:function(e){return Plugin.eventTrigger("beforeToggle"),"off"==the.state?Plugin.toggleOn():Plugin.toggleOff(),Plugin.eventTrigger("afterToggle"),e.preventDefault(),the},toggleOn:function(){return Plugin.eventTrigger("beforeOn"),"class"==the.options.targetToggleMode?KTUtil.addClass(the.target,the.targetState):KTUtil.attr(the.target,"data-"+the.targetState,"on"),the.toggleState&&KTUtil.addClass(element,the.toggleState),the.state="on",Plugin.eventTrigger("afterOn"),Plugin.eventTrigger("toggle"),the},toggleOff:function(){return Plugin.eventTrigger("beforeOff"),"class"==the.options.targetToggleMode?KTUtil.removeClass(the.target,the.targetState):KTUtil.removeAttr(the.target,"data-"+the.targetState),the.toggleState&&KTUtil.removeClass(element,the.toggleState),the.state="off",Plugin.eventTrigger("afterOff"),Plugin.eventTrigger("toggle"),the},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the)}}},addEvent:function(name,handler,one){return the.events.push({name:name,handler:handler,one:one,fired:!1}),the}};return the.setDefaults=function(options){defaultOptions=options},the.getState=function(){return the.state},the.toggle=function(){return Plugin.toggle()},the.toggleOn=function(){return Plugin.toggleOn()},the.toggleOff=function(){return Plugin.toggleOff()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTToggle),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(s){var el=this,ancestor=this;if(!document.documentElement.contains(el))return null;do{if(ancestor.matches(s))return ancestor;ancestor=ancestor.parentElement}while(null!==ancestor);return null})
/**
 * ChildNode.remove() polyfill
 * https://gomakethings.com/removing-an-element-from-the-dom-the-es6-way/
 * @author Chris Ferdinandi
 * @license MIT
 */,function(elem){for(var i=0;i<elem.length;i++)!window[elem[i]]||"remove"in window[elem[i]].prototype||(window[elem[i]].prototype.remove=function(){this.parentNode.removeChild(this)})}(["Element","CharacterData","DocumentType"]),function(){for(var lastTime=0,vendors=["webkit","moz"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout((function(){callback(currTime+timeToCall)}),timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}(),function(arr){arr.forEach((function(item){item.hasOwnProperty("prepend")||Object.defineProperty(item,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function prepend(){var argArr=Array.prototype.slice.call(arguments),docFrag=document.createDocumentFragment();argArr.forEach((function(argItem){var isNode=argItem instanceof Node;docFrag.appendChild(isNode?argItem:document.createTextNode(String(argItem)))})),this.insertBefore(docFrag,this.firstChild)}})}))}([Element.prototype,Document.prototype,DocumentFragment.prototype]),null==Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var attributes=this.attributes,length=attributes.length,result=new Array(length),i=0;i<length;i++)result[i]=attributes[i].name;return result}),window.KTUtilElementDataStore={},window.KTUtilElementDataStoreID=0,window.KTUtilDelegatedEventHandlers={};var KTUtil=function(){var resizeHandlers=[],breakpoints={sm:544,md:768,lg:992,xl:1200},_windowResizeHandler=function(){var _runResizeHandlers=function(){for(var i=0;i<resizeHandlers.length;i++){var each;resizeHandlers[i].call()}},timer;window.addEventListener("resize",(function(){KTUtil.throttle(timer,(function(){_runResizeHandlers()}),200)}))};return{init:function(settings){settings&&settings.breakpoints&&(breakpoints=settings.breakpoints),_windowResizeHandler()},addResizeHandler:function(callback){resizeHandlers.push(callback)},removeResizeHandler:function(callback){for(var i=0;i<resizeHandlers.length;i++)callback===resizeHandlers[i]&&delete resizeHandlers[i]},runResizeHandlers:function(){_runResizeHandlers()},resize:function(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var evt=window.document.createEvent("UIEvents");evt.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(evt)}},getURLParam:function(paramName){var searchString,i,val,params=window.location.search.substring(1).split("&");for(i=0;i<params.length;i++)if((val=params[i].split("="))[0]==paramName)return unescape(val[1]);return null},isMobileDevice:function(){var test=this.getViewPort().width<this.getBreakpoint("lg");return!1===test&&(test=null!=navigator.userAgent.match(/iPad/i)),test},isDesktopDevice:function(){return!KTUtil.isMobileDevice()},getViewPort:function(){var e=window,a="inner";return"innerWidth"in window||(a="client",e=document.documentElement||document.body),{width:e[a+"Width"],height:e[a+"Height"]}},isInResponsiveRange:function(mode){var breakpoint=this.getViewPort().width;return"general"==mode||("desktop"==mode&&breakpoint>=this.getBreakpoint("lg")+1||("tablet"==mode&&breakpoint>=this.getBreakpoint("md")+1&&breakpoint<this.getBreakpoint("lg")||("mobile"==mode&&breakpoint<=this.getBreakpoint("md")||("desktop-and-tablet"==mode&&breakpoint>=this.getBreakpoint("md")+1||("tablet-and-mobile"==mode&&breakpoint<=this.getBreakpoint("lg")||"minimal-desktop-and-below"==mode&&breakpoint<=this.getBreakpoint("xl"))))))},isBreakpointUp:function(mode){var width,breakpoint;return this.getViewPort().width>=this.getBreakpoint(mode)},isBreakpointDown:function(mode){var width,breakpoint;return this.getViewPort().width<this.getBreakpoint(mode)},getUniqueID:function(prefix){return prefix+Math.floor(Math.random()*(new Date).getTime())},getBreakpoint:function(mode){return breakpoints[mode]},isset:function(obj,keys){var stone;if(-1!==(keys=keys||"").indexOf("["))throw new Error("Unsupported object path notation.");keys=keys.split(".");do{if(void 0===obj)return!1;if(stone=keys.shift(),!obj.hasOwnProperty(stone))return!1;obj=obj[stone]}while(keys.length);return!0},getHighestZindex:function(el){for(var position,value;el&&el!==document;){if(("absolute"===(position=KTUtil.css(el,"position"))||"relative"===position||"fixed"===position)&&(value=parseInt(KTUtil.css(el,"z-index")),!isNaN(value)&&0!==value))return value;el=el.parentNode}return null},hasFixedPositionedParent:function(el){for(var position;el&&el!==document;){if("fixed"===(position=KTUtil.css(el,"position")))return!0;el=el.parentNode}return!1},sleep:function(milliseconds){for(var start=(new Date).getTime(),i=0;i<1e7&&!((new Date).getTime()-start>milliseconds);i++);},getRandomInt:function(min,max){return Math.floor(Math.random()*(max-min+1))+min},isAngularVersion:function(){return void 0!==window.Zone},deepExtend:function(out){out=out||{};for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(obj)for(var key in obj)obj.hasOwnProperty(key)&&("object"==typeof obj[key]?out[key]=KTUtil.deepExtend(out[key],obj[key]):out[key]=obj[key])}return out},extend:function(out){out=out||{};for(var i=1;i<arguments.length;i++)if(arguments[i])for(var key in arguments[i])arguments[i].hasOwnProperty(key)&&(out[key]=arguments[i][key]);return out},getById:function(el){return"string"==typeof el?document.getElementById(el):el},getByTag:function(query){return document.getElementsByTagName(query)},getByTagName:function(query){return document.getElementsByTagName(query)},getByClass:function(query){return document.getElementsByClassName(query)},getBody:function(){return document.getElementsByTagName("body")[0]},hasClasses:function(el,classes){if(el){for(var classesArr=classes.split(" "),i=0;i<classesArr.length;i++)if(0==KTUtil.hasClass(el,KTUtil.trim(classesArr[i])))return!1;return!0}},hasClass:function(el,className){if(el)return el.classList?el.classList.contains(className):new RegExp("\\b"+className+"\\b").test(el.className)},addClass:function(el,className){if(el&&void 0!==className){var classNames=className.split(" ");if(el.classList)for(var i=0;i<classNames.length;i++)classNames[i]&&classNames[i].length>0&&el.classList.add(KTUtil.trim(classNames[i]));else if(!KTUtil.hasClass(el,className))for(var x=0;x<classNames.length;x++)el.className+=" "+KTUtil.trim(classNames[x])}},removeClass:function(el,className){if(el&&void 0!==className){var classNames=className.split(" ");if(el.classList)for(var i=0;i<classNames.length;i++)el.classList.remove(KTUtil.trim(classNames[i]));else if(KTUtil.hasClass(el,className))for(var x=0;x<classNames.length;x++)el.className=el.className.replace(new RegExp("\\b"+KTUtil.trim(classNames[x])+"\\b","g"),"")}},triggerCustomEvent:function(el,eventName,data){var event;window.CustomEvent?event=new CustomEvent(eventName,{detail:data}):(event=document.createEvent("CustomEvent")).initCustomEvent(eventName,!0,!0,data),el.dispatchEvent(event)},triggerEvent:function(node,eventName){var doc;if(node.ownerDocument)doc=node.ownerDocument;else{if(9!=node.nodeType)throw new Error("Invalid node passed to fireEvent: "+node.id);doc=node}if(node.dispatchEvent){var eventClass="";switch(eventName){case"click":case"mouseenter":case"mouseleave":case"mousedown":case"mouseup":eventClass="MouseEvents";break;case"focus":case"change":case"blur":case"select":eventClass="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+eventName+"'."}var event,bubbles="change"!=eventName;(event=doc.createEvent(eventClass)).initEvent(eventName,bubbles,!0),event.synthetic=!0,node.dispatchEvent(event,!0)}else if(node.fireEvent){var event;(event=doc.createEventObject()).synthetic=!0,node.fireEvent("on"+eventName,event)}},index:function(el){for(var c=el.parentNode.children,i=0;i<c.length;i++)if(c[i]==el)return i},trim:function(string){return string.trim()},eventTriggered:function(e){return!!e.currentTarget.dataset.triggered||(e.currentTarget.dataset.triggered=!0,!1)},remove:function(el){el&&el.parentNode&&el.parentNode.removeChild(el)},find:function(parent,query){if(parent=KTUtil.getById(parent))return parent.querySelector(query)},findAll:function(parent,query){if(parent=KTUtil.getById(parent))return parent.querySelectorAll(query)},insertAfter:function(el,referenceNode){return referenceNode.parentNode.insertBefore(el,referenceNode.nextSibling)},parents:function(elem,selector){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){for(var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;--i>=0&&matches.item(i)!==this;);return i>-1});for(var parents=[];elem&&elem!==document;elem=elem.parentNode)selector?elem.matches(selector)&&parents.push(elem):parents.push(elem);return parents},children:function(el,selector,log){if(el&&el.childNodes){for(var result=[],i=0,l=el.childNodes.length,i;i<l;++i)1==el.childNodes[i].nodeType&&KTUtil.matches(el.childNodes[i],selector,log)&&result.push(el.childNodes[i]);return result}},child:function(el,selector,log){var children=KTUtil.children(el,selector,log);return children?children[0]:null},matches:function(el,selector,log){var p=Element.prototype,f=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)};return!(!el||!el.tagName)&&f.call(el,selector)},data:function(el){return{set:function(name,data){el&&(void 0===el.customDataTag&&(window.KTUtilElementDataStoreID++,el.customDataTag=window.KTUtilElementDataStoreID),void 0===window.KTUtilElementDataStore[el.customDataTag]&&(window.KTUtilElementDataStore[el.customDataTag]={}),window.KTUtilElementDataStore[el.customDataTag][name]=data)},get:function(name){if(el)return void 0===el.customDataTag?null:this.has(name)?window.KTUtilElementDataStore[el.customDataTag][name]:null},has:function(name){return!!el&&(void 0!==el.customDataTag&&!(!window.KTUtilElementDataStore[el.customDataTag]||!window.KTUtilElementDataStore[el.customDataTag][name]))},remove:function(name){el&&this.has(name)&&delete window.KTUtilElementDataStore[el.customDataTag][name]}}},outerWidth:function(el,margin){var width;return!0===margin?(width=parseFloat(el.offsetWidth),width+=parseFloat(KTUtil.css(el,"margin-left"))+parseFloat(KTUtil.css(el,"margin-right")),parseFloat(width)):width=parseFloat(el.offsetWidth)},offset:function(el){var rect,win;if(el)return el.getClientRects().length?(rect=el.getBoundingClientRect(),win=el.ownerDocument.defaultView,{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset}):{top:0,left:0}},height:function(el){return KTUtil.css(el,"height")},outerHeight:function(el,withMargin){var height=el.offsetHeight,style;return void 0!==withMargin&&!0===withMargin?(style=getComputedStyle(el),height+=parseInt(style.marginTop)+parseInt(style.marginBottom)):height},visible:function(el){return!(0===el.offsetWidth&&0===el.offsetHeight)},attr:function(el,name,value){if(null!=el)return void 0===value?el.getAttribute(name):void el.setAttribute(name,value)},hasAttr:function(el,name){if(null!=el)return!!el.getAttribute(name)},removeAttr:function(el,name){null!=el&&el.removeAttribute(name)},animate:function(from,to,duration,update,easing,done){var easings={},easing;if(easings.linear=function(t,b,c,d){return c*t/d+b},easing=easings.linear,"number"==typeof from&&"number"==typeof to&&"number"==typeof duration&&"function"==typeof update){"function"!=typeof done&&(done=function(){});var rAF=window.requestAnimationFrame||function(callback){window.setTimeout(callback,20)},canceled=!1,change=to-from;update(from);var start=window.performance&&window.performance.now?window.performance.now():+new Date;rAF(loop)}function loop(timestamp){var time=(timestamp||+new Date)-start;time>=0&&update(easing(time,from,change,duration)),time>=0&&time>=duration?(update(to),done()):rAF(loop)}},actualCss:function(el,prop,cache){var css="",value;if(el instanceof HTMLElement!=!1)return el.getAttribute("kt-hidden-"+prop)&&!1!==cache?parseFloat(el.getAttribute("kt-hidden-"+prop)):(css=el.style.cssText,el.style.cssText="position: absolute; visibility: hidden; display: block;","width"==prop?value=el.offsetWidth:"height"==prop&&(value=el.offsetHeight),el.style.cssText=css,el.setAttribute("kt-hidden-"+prop,value),parseFloat(value))},actualHeight:function(el,cache){return KTUtil.actualCss(el,"height",cache)},actualWidth:function(el,cache){return KTUtil.actualCss(el,"width",cache)},getScroll:function(element,method){return method="scroll"+method,element==window||element==document?self["scrollTop"==method?"pageYOffset":"pageXOffset"]||browserSupportsBoxModel&&document.documentElement[method]||document.body[method]:element[method]},css:function(el,styleProp,value){if(el)if(void 0!==value)el.style[styleProp]=value;else{var defaultView=(el.ownerDocument||document).defaultView;if(defaultView&&defaultView.getComputedStyle)return styleProp=styleProp.replace(/([A-Z])/g,"-$1").toLowerCase(),defaultView.getComputedStyle(el,null).getPropertyValue(styleProp);if(el.currentStyle)return styleProp=styleProp.replace(/\-(\w)/g,(function(str,letter){return letter.toUpperCase()})),value=el.currentStyle[styleProp],/^\d+(em|pt|%|ex)?$/i.test(value)?function(value){var oldLeft=el.style.left,oldRsLeft=el.runtimeStyle.left;return el.runtimeStyle.left=el.currentStyle.left,el.style.left=value||0,value=el.style.pixelLeft+"px",el.style.left=oldLeft,el.runtimeStyle.left=oldRsLeft,value}(value):value}},slide:function(el,dir,speed,callback,recalcMaxHeight){if(!(!el||"up"==dir&&!1===KTUtil.visible(el)||"down"==dir&&!0===KTUtil.visible(el))){speed=speed||600;var calcHeight=KTUtil.actualHeight(el),calcPaddingTop=!1,calcPaddingBottom=!1;KTUtil.css(el,"padding-top")&&!0!==KTUtil.data(el).has("slide-padding-top")&&KTUtil.data(el).set("slide-padding-top",KTUtil.css(el,"padding-top")),KTUtil.css(el,"padding-bottom")&&!0!==KTUtil.data(el).has("slide-padding-bottom")&&KTUtil.data(el).set("slide-padding-bottom",KTUtil.css(el,"padding-bottom")),KTUtil.data(el).has("slide-padding-top")&&(calcPaddingTop=parseInt(KTUtil.data(el).get("slide-padding-top"))),KTUtil.data(el).has("slide-padding-bottom")&&(calcPaddingBottom=parseInt(KTUtil.data(el).get("slide-padding-bottom"))),"up"==dir?(el.style.cssText="display: block; overflow: hidden;",calcPaddingTop&&KTUtil.animate(0,calcPaddingTop,speed,(function(value){el.style.paddingTop=calcPaddingTop-value+"px"}),"linear"),calcPaddingBottom&&KTUtil.animate(0,calcPaddingBottom,speed,(function(value){el.style.paddingBottom=calcPaddingBottom-value+"px"}),"linear"),KTUtil.animate(0,calcHeight,speed,(function(value){el.style.height=calcHeight-value+"px"}),"linear",(function(){el.style.height="",el.style.display="none","function"==typeof callback&&callback()}))):"down"==dir&&(el.style.cssText="display: block; overflow: hidden;",calcPaddingTop&&KTUtil.animate(0,calcPaddingTop,speed,(function(value){el.style.paddingTop=value+"px"}),"linear",(function(){el.style.paddingTop=""})),calcPaddingBottom&&KTUtil.animate(0,calcPaddingBottom,speed,(function(value){el.style.paddingBottom=value+"px"}),"linear",(function(){el.style.paddingBottom=""})),KTUtil.animate(0,calcHeight,speed,(function(value){el.style.height=value+"px"}),"linear",(function(){el.style.height="",el.style.display="",el.style.overflow="","function"==typeof callback&&callback()})))}},slideUp:function(el,speed,callback){KTUtil.slide(el,"up",speed,callback)},slideDown:function(el,speed,callback){KTUtil.slide(el,"down",speed,callback)},show:function(el,display){void 0!==el&&(el.style.display=display||"block")},hide:function(el){void 0!==el&&(el.style.display="none")},addEvent:function(el,type,handler,one){null!=el&&el.addEventListener(type,handler)},removeEvent:function(el,type,handler){null!==el&&el.removeEventListener(type,handler)},on:function(element,selector,event,handler){if(selector){var eventId=KTUtil.getUniqueID("event");return window.KTUtilDelegatedEventHandlers[eventId]=function(e){for(var targets=element.querySelectorAll(selector),target=e.target;target&&target!==element;){for(var i=0,j=targets.length;i<j;i++)target===targets[i]&&handler.call(target,e);target=target.parentNode}},KTUtil.addEvent(element,event,window.KTUtilDelegatedEventHandlers[eventId]),eventId}},off:function(element,event,eventId){element&&window.KTUtilDelegatedEventHandlers[eventId]&&(KTUtil.removeEvent(element,event,window.KTUtilDelegatedEventHandlers[eventId]),delete window.KTUtilDelegatedEventHandlers[eventId])},one:function onetime(el,type,callback){el.addEventListener(type,(function callee(e){return e.target&&e.target.removeEventListener&&e.target.removeEventListener(e.type,callee),el&&el.removeEventListener&&e.currentTarget.removeEventListener(e.type,callee),callback(e)}))},hash:function(str){var hash=0,i,chr;if(0===str.length)return hash;for(i=0;i<str.length;i++)hash=(hash<<5)-hash+(chr=str.charCodeAt(i)),hash|=0;return hash},animateClass:function(el,animationName,callback){var animation,animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var t in animations)void 0!==el.style[t]&&(animation=animations[t]);KTUtil.addClass(el,"animated "+animationName),KTUtil.one(el,animation,(function(){KTUtil.removeClass(el,"animated "+animationName)})),callback&&KTUtil.one(el,animation,callback)},transitionEnd:function(el,callback){var transition,transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"msTransitionEnd"};for(var t in transitions)void 0!==el.style[t]&&(transition=transitions[t]);KTUtil.one(el,transition,callback)},animationEnd:function(el,callback){var animation,animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var t in animations)void 0!==el.style[t]&&(animation=animations[t]);KTUtil.one(el,animation,callback)},animateDelay:function(el,value){for(var vendors=["webkit-","moz-","ms-","o-",""],i=0;i<vendors.length;i++)KTUtil.css(el,vendors[i]+"animation-delay",value)},animateDuration:function(el,value){for(var vendors=["webkit-","moz-","ms-","o-",""],i=0;i<vendors.length;i++)KTUtil.css(el,vendors[i]+"animation-duration",value)},scrollTo:function(target,offset,duration){var duration=duration||500,targetPos=target?KTUtil.offset(target).top:0,scrollPos=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,from,to;offset&&(scrollPos+=offset),from=scrollPos,to=targetPos,KTUtil.animate(from,to,duration,(function(value){document.documentElement.scrollTop=value,document.body.parentNode.scrollTop=value,document.body.scrollTop=value}))},scrollTop:function(offset,duration){KTUtil.scrollTo(null,offset,duration)},isArray:function(obj){return obj&&Array.isArray(obj)},ready:function(callback){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?callback():document.addEventListener("DOMContentLoaded",callback)},isEmpty:function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0},numberString:function(nStr){for(var x=(nStr+="").split("."),x1=x[0],x2=x.length>1?"."+x[1]:"",rgx=/(\d+)(\d{3})/;rgx.test(x1);)x1=x1.replace(rgx,"$1,$2");return x1+x2},detectIE:function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident;if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)},isRTL:function(){var html=KTUtil.getByTagName("html")[0];if(html)return"rtl"==KTUtil.attr(html,"direction")},scrollInit:function(element,options){if(element){var pluginDefOptions={wheelSpeed:.5,swipeEasing:!0,wheelPropagation:!1,minScrollbarLength:40,maxScrollbarLength:300,suppressScrollX:!0};options=KTUtil.deepExtend({},pluginDefOptions,options),init(),options.handleWindowResize&&KTUtil.addResizeHandler((function(){init()}))}function init(){var ps,height,attrs=element.getAttributeNames();if(attrs.length>0&&attrs.forEach((function(attrName){if(/^data-.*/g.test(attrName)&&0==["scroll","height","mobile-height"].includes(optionName)){var optionName=attrName.replace("data-","").toLowerCase().replace(/(?:[\s-])\w/g,(function(match){return match.replace("-","").toUpperCase()}));options[optionName]=KTUtil.filterBoolean(element.getAttribute(attrName))}})),!1!==(height=options.height instanceof Function?options.height.call():!0===KTUtil.isMobileDevice()&&options.mobileHeight?parseInt(options.mobileHeight):options.height?parseInt(options.height):parseInt(KTUtil.css(element,"height"))))if(height=parseInt(height),!options.mobileNativeScroll&&!options.disableForMobile||!0!==KTUtil.isMobileDevice())if(height>0&&KTUtil.css(element,"height",height+"px"),options.desktopNativeScroll)KTUtil.css(element,"overflow","auto");else{"true"==KTUtil.attr(element,"data-window-scroll")&&(options.windowScroll=!0),(ps=KTUtil.data(element).get("ps"))?ps.update():(KTUtil.css(element,"overflow","hidden"),KTUtil.addClass(element,"scroll"),ps=new PerfectScrollbar(element,options),KTUtil.data(element).set("ps",ps));var uid=KTUtil.attr(element,"id");if(!0===options.rememberPosition&&KTCookie&&uid){if(KTCookie.getCookie(uid)){var pos=parseInt(KTCookie.getCookie(uid));pos>0&&(element.scrollTop=pos)}element.addEventListener("ps-scroll-y",(function(){KTCookie.setCookie(uid,element.scrollTop)}))}}else(ps=KTUtil.data(element).get("ps"))?(options.resetHeightOnDestroy?KTUtil.css(element,"height","auto"):(KTUtil.css(element,"overflow","auto"),height>0&&KTUtil.css(element,"height",height+"px")),ps.destroy(),ps=KTUtil.data(element).remove("ps")):height>0&&(KTUtil.css(element,"overflow","auto"),KTUtil.css(element,"height",height+"px"));else KTUtil.scrollDestroy(element,!0)}},scrollUpdate:function(element){var ps=KTUtil.data(element).get("ps");ps&&ps.update()},scrollUpdateAll:function(parent){for(var scrollers=KTUtil.findAll(parent,".ps"),i=0,len=scrollers.length;i<len;i++)KTUtil.scrollUpdate(scrollers[i])},scrollDestroy:function(element,resetAll){var ps=KTUtil.data(element).get("ps");ps&&(ps.destroy(),ps=KTUtil.data(element).remove("ps")),element&&resetAll&&(element.style.setProperty("overflow",""),element.style.setProperty("height",""))},filterBoolean:function(val){return!0===val||"true"===val||!1!==val&&"false"!==val&&val},setHTML:function(el,html){el.innerHTML=html},getHTML:function(el){if(el)return el.innerHTML},getDocumentHeight:function(){var body=document.body,html=document.documentElement;return Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight)},getScrollTop:function(){return(document.scrollingElement||document.documentElement).scrollTop},changeColor:function(col,amt){var usePound=!1;"#"==col[0]&&(col=col.slice(1),usePound=!0);var num=parseInt(col,16),r=(num>>16)+amt;r>255?r=255:r<0&&(r=0);var b=(num>>8&255)+amt;b>255?b=255:b<0&&(b=0);var g=(255&num)+amt;return g>255?g=255:g<0&&(g=0),(usePound?"#":"")+(g|b<<8|r<<16).toString(16)},throttle:function(timer,func,delay){timer||(timer=setTimeout((function(){func(),timer=void 0}),delay))},debounce:function(timer,func,delay){clearTimeout(timer),timer=setTimeout(func,delay)},btnWait:function(el,cls,message,disable){if(el&&(void 0!==disable&&!0===disable&&KTUtil.attr(el,"disabled",!0),cls&&(KTUtil.addClass(el,cls),KTUtil.attr(el,"wait-class",cls)),message)){var caption=KTUtil.find(el,".btn-caption");caption?(KTUtil.data(caption).set("caption",KTUtil.getHTML(caption)),KTUtil.setHTML(caption,message)):(KTUtil.data(el).set("caption",KTUtil.getHTML(el)),KTUtil.setHTML(el,message))}},btnRelease:function(el){if(el){KTUtil.removeAttr(el,"disabled"),KTUtil.hasAttr(el,"wait-class")&&KTUtil.removeClass(el,KTUtil.attr(el,"wait-class"));var caption=KTUtil.find(el,".btn-caption");caption&&KTUtil.data(caption).has("caption")?KTUtil.setHTML(caption,KTUtil.data(caption).get("caption")):KTUtil.data(el).has("caption")&&KTUtil.setHTML(el,KTUtil.data(el).get("caption"))}},isOffscreen:function(el,direction,offset){offset=offset||0;var windowWidth=KTUtil.getViewPort().width,windowHeight=KTUtil.getViewPort().height,top=KTUtil.offset(el).top,height=KTUtil.outerHeight(el)+offset,left=KTUtil.offset(el).left,width=KTUtil.outerWidth(el)+offset;if("bottom"==direction){if(windowHeight<top+height)return!0;if(windowHeight>top+1.5*height)return!0}if("top"==direction){if(top<0)return!0;if(top>height)return!0}return"left"==direction&&left<0||"right"==direction&&windowWidth<left+width}}}();"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTUtil),KTUtil.ready((function(){"undefined"!=typeof KTAppSettings?KTUtil.init(KTAppSettings):KTUtil.init()})),window.onload=function(){var result=KTUtil.getByTagName("body");result&&result[0]&&KTUtil.removeClass(result[0],"page-loading")};var KTWizard=function(elementId,options){var the=this,init=!1,element=KTUtil.getById(elementId),body=KTUtil.getBody();if(element){var defaultOptions={startStep:1,clickableSteps:!1},Plugin={construct:function(options){return KTUtil.data(element).has("wizard")?the=KTUtil.data(element).get("wizard"):(Plugin.init(options),Plugin.build(),KTUtil.data(element).set("wizard",the)),the},init:function(options){the.element=element,the.events=[],the.options=KTUtil.deepExtend({},defaultOptions,options),the.steps=KTUtil.findAll(element,'[data-wizard-type="step"]'),the.btnNext=KTUtil.find(element,'[data-wizard-type="action-next"]'),the.btnPrev=KTUtil.find(element,'[data-wizard-type="action-prev"]'),the.btnSubmit=KTUtil.find(element,'[data-wizard-type="action-submit"]'),the.events=[],the.lastStep=0,the.currentStep=1,the.newStep=0,the.stopped=!1,the.totalSteps=the.steps.length,the.options.startStep>1&&Plugin.goTo(the.options.startStep),Plugin.updateUI()},build:function(){KTUtil.addEvent(the.btnNext,"click",(function(e){e.preventDefault(),Plugin.setNewStep(Plugin.getNextStep()),!1!==Plugin.eventTrigger("change")&&Plugin.goTo(Plugin.getNextStep())})),KTUtil.addEvent(the.btnPrev,"click",(function(e){e.preventDefault(),Plugin.setNewStep(Plugin.getPrevStep()),!1!==Plugin.eventTrigger("change")&&Plugin.goTo(Plugin.getPrevStep())})),!0===the.options.clickableSteps&&KTUtil.on(element,'[data-wizard-type="step"]',"click",(function(){var index=KTUtil.index(this)+1;index!==the.currentStep&&(Plugin.setNewStep(index),!1!==Plugin.eventTrigger("change")&&Plugin.goTo(index))})),KTUtil.addEvent(the.btnSubmit,"click",(function(e){e.preventDefault(),Plugin.eventTrigger("submit")}))},goTo:function(number){if(!0!==the.stopped){if(!(number===the.currentStep||number>the.totalSteps||number<0))return number=parseInt(number),the.lastStep=the.currentStep,the.currentStep=number,the.newStep=0,Plugin.updateUI(),Plugin.eventTrigger("changed"),the}else the.stopped=!1},stop:function(){the.stopped=!0},resume:function(){the.stopped=!1},isLastStep:function(){return the.currentStep===the.totalSteps},isFirstStep:function(){return 1===the.currentStep},isBetweenStep:function(){return!1===Plugin.isLastStep()&&!1===Plugin.isFirstStep()},updateUI:function(){var stepType="",index=the.currentStep-1;stepType=Plugin.isLastStep()?"last":Plugin.isFirstStep()?"first":"between",KTUtil.attr(the.element,"data-wizard-state",stepType);var steps=KTUtil.findAll(the.element,'[data-wizard-type="step"]');if(steps&&steps.length>0)for(var i=0,len=steps.length;i<len;i++)i==index?KTUtil.attr(steps[i],"data-wizard-state","current"):i<index?KTUtil.attr(steps[i],"data-wizard-state","done"):KTUtil.attr(steps[i],"data-wizard-state","pending");var stepsInfo=KTUtil.findAll(the.element,'[data-wizard-type="step-info"]');if(stepsInfo&&stepsInfo.length>0)for(var i=0,len=stepsInfo.length;i<len;i++)i==index?KTUtil.attr(stepsInfo[i],"data-wizard-state","current"):KTUtil.removeAttr(stepsInfo[i],"data-wizard-state");var stepsContent=KTUtil.findAll(the.element,'[data-wizard-type="step-content"]');if(stepsContent&&stepsContent.length>0)for(var i=0,len=stepsContent.length;i<len;i++)i==index?KTUtil.attr(stepsContent[i],"data-wizard-state","current"):KTUtil.removeAttr(stepsContent[i],"data-wizard-state")},getNextStep:function(){return the.totalSteps>=the.currentStep+1?the.currentStep+1:the.totalSteps},getPrevStep:function(){return the.currentStep-1>=1?the.currentStep-1:1},getNewStep:function(){return the.newStep},setNewStep:function(step){the.newStep=step},eventTrigger:function(name,nested){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(1!=event.one)return event.handler.call(this,the);if(0==event.fired)return the.events[i].fired=!0,event.handler.call(this,the)}}},addEvent:function(name,handler,one){return the.events.push({name:name,handler:handler,one:one,fired:!1}),the}};return the.setDefaults=function(options){defaultOptions=options},the.goNext=function(){return Plugin.goTo(Plugin.getNextStep())},the.goPrev=function(){return Plugin.goTo(Plugin.getPrevStep())},the.goLast=function(){return Plugin.goTo(Plugin.getLastStep())},the.goFirst=function(){return Plugin.goTo(Plugin.getFirstStep())},the.goTo=function(number){return Plugin.goTo(number)},the.stop=function(){return Plugin.stop()},the.resume=function(){return Plugin.resume()},the.getStep=function(){return the.currentStep},the.getNewStep=function(){return Plugin.getNewStep()},the.setNewStep=function(number){Plugin.setNewStep(number)},the.isLastStep=function(){return Plugin.isLastStep()},the.isFirstStep=function(){return Plugin.isFirstStep()},the.on=function(name,handler){return Plugin.addEvent(name,handler)},the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)},Plugin.construct.apply(the,[options]),the}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTWizard),function($){var pluginName="KTDatatable",pfx="",util=KTUtil,app=KTApp;if(void 0===util)throw new Error("Util class is required and must be included before KTDatatable");$.fn.KTDatatable=function(options){if(0!==$(this).length){var datatable=this;datatable.debug=!1,datatable.API={record:null,value:null,params:null};var Plugin={isInit:!1,cellOffset:110,iconOffset:15,stateId:"meta",ajaxParams:{},pagingObject:{},init:function(options){var isHtmlTable=!1,width;null===options.data.source&&(Plugin.extractTable(),isHtmlTable=!0),Plugin.setupBaseDOM.call(),Plugin.setupDOM(datatable.table),$(datatable).on("datatable-on-layout-updated",Plugin.afterRender),datatable.debug&&Plugin.stateRemove(Plugin.stateId),Plugin.setDataSourceQuery(Plugin.getOption("data.source.read.params.query")),$.each(Plugin.getOption("extensions"),(function(extName,extOptions){"function"==typeof $.fn.KTDatatable[extName]&&("object"!=typeof extOptions&&(extOptions=$.extend({},extOptions)),new $.fn.KTDatatable[extName](datatable,extOptions))})),Plugin.spinnerCallback(!0),"remote"!==options.data.type&&"local"!==options.data.type||(!1===options.data.saveState&&Plugin.stateRemove(Plugin.stateId),"local"===options.data.type&&"object"==typeof options.data.source&&(datatable.dataSet=datatable.originalDataSet=Plugin.dataMapCallback(options.data.source)),Plugin.dataRender()),isHtmlTable&&($(datatable.tableHead).find("tr").remove(),$(datatable.tableFoot).find("tr").remove()),Plugin.setHeadTitle(),Plugin.getOption("layout.footer")&&Plugin.setHeadTitle(datatable.tableFoot),void 0!==options.layout.header&&!1===options.layout.header&&$(datatable.table).find("thead").remove(),void 0!==options.layout.footer&&!1===options.layout.footer&&$(datatable.table).find("tfoot").remove(),null!==options.data.type&&"local"!==options.data.type||(Plugin.setupCellField.call(),Plugin.setupTemplateCell.call(),Plugin.setupSubDatatable.call(),Plugin.setupSystemColumn.call(),Plugin.redraw());var initialWidth=!1;$(window).resize((function(){$(this).width()!==width&&(width=$(this).width(),Plugin.fullRender()),initialWidth||(width=$(this).width(),initialWidth=!0)})),$(datatable).height("");var prevKeyword="";return $(Plugin.getOption("search.input")).on("keyup",(function(e){if(!Plugin.getOption("search.onEnter")||13===e.which){var keyword=$(this).val();prevKeyword!==keyword&&(Plugin.search(keyword),prevKeyword=keyword)}})),datatable},extractTable:function(){var columns=[],headers=$(datatable).find("tr:first-child th").get().map((function(cell,i){var field=$(cell).data("field"),title=$(cell).data("title");void 0===field&&(field=$(cell).text().trim()),void 0===title&&(title=$(cell).text().trim());var column={field:field,title:title};for(var ii in options.columns)options.columns[ii].field===field&&(column=$.extend(!0,{},options.columns[ii],column));return columns.push(column),field}));options.columns=columns;var rowProp=[],source=[];$(datatable).find("tr").each((function(){$(this).find("td").length&&rowProp.push($(this).prop("attributes"));var td={};$(this).find("td").each((function(i,cell){td[headers[i]]=cell.innerHTML.trim()})),util.isEmpty(td)||source.push(td)})),options.data.attr.rowProps=rowProp,options.data.source=source},layoutUpdate:function(){Plugin.setupSubDatatable.call(),Plugin.setupSystemColumn.call(),Plugin.setupHover.call(),void 0===options.detail&&1===Plugin.getDepth()&&Plugin.lockTable.call(),Plugin.resetScroll(),Plugin.isLocked()||(Plugin.redraw.call(),Plugin.isSubtable()||!0!==Plugin.getOption("rows.autoHide")||Plugin.autoHide(),$(datatable.table).find(".datatable-row").css("height","")),Plugin.columnHide.call(),Plugin.rowEvenOdd.call(),Plugin.sorting.call(),Plugin.scrollbar.call(),Plugin.isInit||(Plugin.dropdownFix(),$(datatable).trigger("datatable-on-init",{table:$(datatable.wrap).attr("id"),options:options}),Plugin.isInit=!0),$(datatable).trigger("datatable-on-layout-updated",{table:$(datatable.wrap).attr("id")})},dropdownFix:function(){var dropdownMenu;$("body").on("show.bs.dropdown",".datatable .datatable-body",(function(e){dropdownMenu=$(e.target).find(".dropdown-menu"),$("body").append(dropdownMenu.detach()),dropdownMenu.css("display","block"),dropdownMenu.position({my:"right top",at:"right bottom",of:$(e.relatedTarget)}),datatable.closest(".modal").length&&dropdownMenu.css("z-index","2000")})).on("hide.bs.dropdown",".datatable .datatable-body",(function(e){$(e.target).append(dropdownMenu.detach()),dropdownMenu.hide()})),$(window).on("resize",(function(e){void 0!==dropdownMenu&&dropdownMenu.hide()}))},lockTable:function(){var lock={lockEnabled:!1,init:function(){lock.lockEnabled=Plugin.lockEnabledColumns(),0===lock.lockEnabled.left.length&&0===lock.lockEnabled.right.length||lock.enable()},enable:function(){var enableLock=function(tablePart){if($(tablePart).find(".datatable-lock").length>0)Plugin.log("Locked container already exist in: ",tablePart);else if(0!==$(tablePart).find(".datatable-row").length){var lockLeft=$("<div/>").addClass("datatable-lock datatable-lock-left"),lockScroll=$("<div/>").addClass("datatable-lock datatable-lock-scroll"),lockRight=$("<div/>").addClass("datatable-lock datatable-lock-right");$(tablePart).find(".datatable-row").each((function(){var rowLeft=$("<tr/>").addClass("datatable-row").data("obj",$(this).data("obj")).appendTo(lockLeft),rowScroll=$("<tr/>").addClass("datatable-row").data("obj",$(this).data("obj")).appendTo(lockScroll),rowRight=$("<tr/>").addClass("datatable-row").data("obj",$(this).data("obj")).appendTo(lockRight);$(this).find(".datatable-cell").each((function(){var locked=$(this).data("locked");void 0!==locked?(void 0===locked.left&&!0!==locked||$(this).appendTo(rowLeft),void 0!==locked.right&&$(this).appendTo(rowRight)):$(this).appendTo(rowScroll)})),$(this).remove()})),lock.lockEnabled.left.length>0&&($(datatable.wrap).addClass("datatable-lock"),$(lockLeft).appendTo(tablePart)),(lock.lockEnabled.left.length>0||lock.lockEnabled.right.length>0)&&$(lockScroll).appendTo(tablePart),lock.lockEnabled.right.length>0&&($(datatable.wrap).addClass("datatable-lock"),$(lockRight).appendTo(tablePart))}else Plugin.log("No row exist in: ",tablePart)};$(datatable.table).find("thead,tbody,tfoot").each((function(){var tablePart=this;0===$(this).find(".datatable-lock").length&&$(this).ready((function(){enableLock(tablePart)}))}))}};return lock.init(),lock},fullRender:function(){$(datatable.tableHead).empty(),Plugin.setHeadTitle(),Plugin.getOption("layout.footer")&&($(datatable.tableFoot).empty(),Plugin.setHeadTitle(datatable.tableFoot)),Plugin.spinnerCallback(!0),$(datatable.wrap).removeClass("datatable-loaded"),Plugin.insertData()},lockEnabledColumns:function(){var screen=$(window).width(),columns=options.columns,enabled={left:[],right:[]};return $.each(columns,(function(i,column){void 0!==column.locked&&(void 0!==column.locked.left&&util.getBreakpoint(column.locked.left)<=screen&&enabled.left.push(column.locked.left),void 0!==column.locked.right&&util.getBreakpoint(column.locked.right)<=screen&&enabled.right.push(column.locked.right))})),enabled},afterRender:function(e,args){$(datatable).ready((function(){Plugin.isLocked()&&Plugin.redraw(),$(datatable.tableBody).css("visibility",""),$(datatable.wrap).addClass("datatable-loaded"),Plugin.spinnerCallback(!1)}))},hoverTimer:0,isScrolling:!1,setupHover:function(){$(window).scroll((function(e){clearTimeout(Plugin.hoverTimer),Plugin.isScrolling=!0})),$(datatable.tableBody).find(".datatable-cell").off("mouseenter","mouseleave").on("mouseenter",(function(){if(Plugin.hoverTimer=setTimeout((function(){Plugin.isScrolling=!1}),200),!Plugin.isScrolling){var row=$(this).closest(".datatable-row").addClass("datatable-row-hover"),index=$(row).index()+1;$(row).closest(".datatable-lock").parent().find(".datatable-row:nth-child("+index+")").addClass("datatable-row-hover")}})).on("mouseleave",(function(){var row=$(this).closest(".datatable-row").removeClass("datatable-row-hover"),index=$(row).index()+1;$(row).closest(".datatable-lock").parent().find(".datatable-row:nth-child("+index+")").removeClass("datatable-row-hover")}))},adjustLockContainer:function(){if(!Plugin.isLocked())return 0;var containerWidth=$(datatable.tableHead).width(),lockLeft=$(datatable.tableHead).find(".datatable-lock-left").width(),lockRight=$(datatable.tableHead).find(".datatable-lock-right").width();void 0===lockLeft&&(lockLeft=0),void 0===lockRight&&(lockRight=0);var lockScroll=Math.floor(containerWidth-lockLeft-lockRight);return $(datatable.table).find(".datatable-lock-scroll").css("width",lockScroll),lockScroll},dragResize:function(){var pressed=!1,start=void 0,startX,startWidth;$(datatable.tableHead).find(".datatable-cell").mousedown((function(e){start=$(this),pressed=!0,startX=e.pageX,startWidth=$(this).width(),$(start).addClass("datatable-cell-resizing")})).mousemove((function(e){if(pressed){var i=$(start).index(),tableBody=$(datatable.tableBody),ifLocked=$(start).closest(".datatable-lock");if(ifLocked){var lockedIndex=$(ifLocked).index();tableBody=$(datatable.tableBody).find(".datatable-lock").eq(lockedIndex)}$(tableBody).find(".datatable-row").each((function(tri,tr){$(tr).find(".datatable-cell").eq(i).width(startWidth+(e.pageX-startX)).children().width(startWidth+(e.pageX-startX))})),$(start).children().css("width",startWidth+(e.pageX-startX))}})).mouseup((function(){$(start).removeClass("datatable-cell-resizing"),pressed=!1})),$(document).mouseup((function(){$(start).removeClass("datatable-cell-resizing"),pressed=!1}))},initHeight:function(){if(options.layout.height&&options.layout.scroll){var theadHeight=$(datatable.tableHead).find(".datatable-row").outerHeight(),tfootHeight=$(datatable.tableFoot).find(".datatable-row").outerHeight(),bodyHeight=options.layout.height;theadHeight>0&&(bodyHeight-=theadHeight),tfootHeight>0&&(bodyHeight-=tfootHeight),bodyHeight-=2,$(datatable.tableBody).css("max-height",Math.floor(parseFloat(bodyHeight)))}},setupBaseDOM:function(){datatable.initialDatatable=$(datatable).clone(),"TABLE"===$(datatable).prop("tagName")?(datatable.table=$(datatable).removeClass("datatable").addClass("datatable-table"),0===$(datatable.table).parents(".datatable").length&&(datatable.table.wrap($("<div/>").addClass("datatable").addClass("datatable-"+options.layout.theme)),datatable.wrap=$(datatable.table).parent())):(datatable.wrap=$(datatable).addClass("datatable").addClass("datatable-"+options.layout.theme),datatable.table=$("<table/>").addClass("datatable-table").appendTo(datatable)),void 0!==options.layout.class&&$(datatable.wrap).addClass(options.layout.class),$(datatable.table).removeClass("datatable-destroyed").css("display","block"),void 0===$(datatable).attr("id")&&(Plugin.setOption("data.saveState",!1),$(datatable.table).attr("id",util.getUniqueID("datatable-"))),Plugin.getOption("layout.minHeight")&&$(datatable.table).css("min-height",Plugin.getOption("layout.minHeight")),Plugin.getOption("layout.height")&&$(datatable.table).css("max-height",Plugin.getOption("layout.height")),null===options.data.type&&$(datatable.table).css("width","").css("display",""),datatable.tableHead=$(datatable.table).find("thead"),0===$(datatable.tableHead).length&&(datatable.tableHead=$("<thead/>").prependTo(datatable.table)),datatable.tableBody=$(datatable.table).find("tbody"),0===$(datatable.tableBody).length&&(datatable.tableBody=$("<tbody/>").appendTo(datatable.table)),void 0!==options.layout.footer&&options.layout.footer&&(datatable.tableFoot=$(datatable.table).find("tfoot"),0===$(datatable.tableFoot).length&&(datatable.tableFoot=$("<tfoot/>").appendTo(datatable.table)))},setupCellField:function(tableParts){void 0===tableParts&&(tableParts=$(datatable.table).children());var columns=options.columns;$.each(tableParts,(function(part,tablePart){$(tablePart).find(".datatable-row").each((function(tri,tr){$(tr).find(".datatable-cell").each((function(tdi,td){void 0!==columns[tdi]&&$(td).data(columns[tdi])}))}))}))},setupTemplateCell:function(tablePart){void 0===tablePart&&(tablePart=datatable.tableBody);var columns=options.columns;$(tablePart).find(".datatable-row").each((function(tri,tr){var obj=$(tr).data("obj");if(void 0!==obj){var rowCallback=Plugin.getOption("rows.callback");"function"==typeof rowCallback&&rowCallback($(tr),obj,tri);var beforeTemplate=Plugin.getOption("rows.beforeTemplate");"function"==typeof beforeTemplate&&beforeTemplate($(tr),obj,tri),void 0===obj&&(obj={},$(tr).find(".datatable-cell").each((function(tdi,td){var column=$.grep(columns,(function(n,i){return $(td).data("field")===n.field}))[0];void 0!==column&&(obj[column.field]=$(td).text())}))),$(tr).find(".datatable-cell").each((function(tdi,td){var column=$.grep(columns,(function(n,i){return $(td).data("field")===n.field}))[0];if(void 0!==column&&void 0!==column.template){var finalValue="";"string"==typeof column.template&&(finalValue=Plugin.dataPlaceholder(column.template,obj)),"function"==typeof column.template&&(finalValue=column.template(obj,tri,datatable)),"undefined"!=typeof DOMPurify&&(finalValue=DOMPurify.sanitize(finalValue));var span=document.createElement("span");span.innerHTML=finalValue,$(td).html(span),void 0!==column.overflow&&($(span).css("overflow",column.overflow),$(span).css("position","relative"))}}));var afterTemplate=Plugin.getOption("rows.afterTemplate");"function"==typeof afterTemplate&&afterTemplate($(tr),obj,tri)}}))},setupSystemColumn:function(){if(datatable.dataSet=datatable.dataSet||[],0!==datatable.dataSet.length){var columns=options.columns;$(datatable.tableBody).find(".datatable-row").each((function(tri,tr){$(tr).find(".datatable-cell").each((function(tdi,td){var column=$.grep(columns,(function(n,i){return $(td).data("field")===n.field}))[0];if(void 0!==column){var value=$(td).text();if(void 0!==column.selector&&!1!==column.selector){if($(td).find('.checkbox [type="checkbox"]').length>0)return;$(td).addClass("datatable-cell-check");var chk=$("<label/>").addClass("checkbox checkbox-single").append($("<input/>").attr("type","checkbox").attr("value",value).on("click",(function(){$(this).is(":checked")?Plugin.setActive(this):Plugin.setInactive(this)}))).append("&nbsp;<span></span>");void 0!==column.selector.class&&$(chk).addClass(column.selector.class),$(td).children().html(chk)}if(void 0!==column.subtable&&column.subtable){if($(td).find(".datatable-toggle-subtable").length>0)return;$(td).children().html($("<a/>").addClass("datatable-toggle-subtable").attr("href","#").attr("data-value",value).append($("<i/>").addClass(Plugin.getOption("layout.icons.rowDetail.collapse"))))}}}))}));var initCheckbox=function(tr){var column=$.grep(columns,(function(n,i){return void 0!==n.selector&&!1!==n.selector}))[0];if(void 0!==column&&void 0!==column.selector&&!1!==column.selector){var td=$(tr).find('[data-field="'+column.field+'"]');if($(td).find('.checkbox [type="checkbox"]').length>0)return;$(td).addClass("datatable-cell-check");var chk=$("<label/>").addClass("checkbox checkbox-single checkbox-all").append($("<input/>").attr("type","checkbox").on("click",(function(){$(this).is(":checked")?Plugin.setActiveAll(!0):Plugin.setActiveAll(!1)}))).append("&nbsp;<span></span>");void 0!==column.selector.class&&$(chk).addClass(column.selector.class),$(td).children().html(chk)}};options.layout.header&&initCheckbox($(datatable.tableHead).find(".datatable-row").first()),options.layout.footer&&initCheckbox($(datatable.tableFoot).find(".datatable-row").first())}},maxWidthList:{},adjustCellsWidth:function(){var containerWidth=$(datatable.tableBody).innerWidth()-Plugin.iconOffset,columns=$(datatable.tableBody).find(".datatable-row:first-child").find(".datatable-cell").not(".datatable-toggle-detail").not(":hidden").length;if(columns>0){containerWidth-=Plugin.iconOffset*columns;var minWidth=Math.floor(containerWidth/columns);minWidth<=Plugin.cellOffset&&(minWidth=Plugin.cellOffset),$(datatable.table).find(".datatable-row").find(".datatable-cell").not(".datatable-toggle-detail").not(":hidden").each((function(tdi,td){var width=minWidth,dataWidth=$(td).data("width");if(void 0!==dataWidth)if("auto"===dataWidth){var field=$(td).data("field");if(Plugin.maxWidthList[field])width=Plugin.maxWidthList[field];else{var cells=$(datatable.table).find('.datatable-cell[data-field="'+field+'"]');width=Plugin.maxWidthList[field]=Math.max.apply(null,$(cells).map((function(){return $(this).outerWidth()})).get())}}else width=dataWidth;$(td).children().css("width",Math.ceil(width))}))}return datatable},adjustCellsHeight:function(){$.each($(datatable.table).children(),(function(part,tablePart){for(var totalRows=$(tablePart).find(".datatable-row").first().parent().find(".datatable-row").length,i=1;i<=totalRows;i++){var rows=$(tablePart).find(".datatable-row:nth-child("+i+")");if($(rows).length>0){var maxHeight=Math.max.apply(null,$(rows).map((function(){return $(this).outerHeight()})).get());$(rows).css("height",Math.ceil(maxHeight))}}}))},setupDOM:function(table){$(table).find("> thead").addClass("datatable-head"),$(table).find("> tbody").addClass("datatable-body"),$(table).find("> tfoot").addClass("datatable-foot"),$(table).find("tr").addClass("datatable-row"),$(table).find("tr > th, tr > td").addClass("datatable-cell"),$(table).find("tr > th, tr > td").each((function(i,td){0===$(td).find("span").length&&$(td).wrapInner($("<span/>").css("width",Plugin.cellOffset))}))},scrollbar:function(){var scroll={scrollable:null,tableLocked:null,initPosition:null,init:function(){var screen=util.getViewPort().width;if(options.layout.scroll){$(datatable.wrap).addClass("datatable-scroll");var scrollable=$(datatable.tableBody).find(".datatable-lock-scroll");$(scrollable).find(".datatable-row").length>0&&$(scrollable).length>0?(scroll.scrollHead=$(datatable.tableHead).find("> .datatable-lock-scroll > .datatable-row"),scroll.scrollFoot=$(datatable.tableFoot).find("> .datatable-lock-scroll > .datatable-row"),scroll.tableLocked=$(datatable.tableBody).find(".datatable-lock:not(.datatable-lock-scroll)"),Plugin.getOption("layout.customScrollbar")&&10!=util.detectIE()&&screen>util.getBreakpoint("lg")?scroll.initCustomScrollbar(scrollable[0]):scroll.initDefaultScrollbar(scrollable)):$(datatable.tableBody).find(".datatable-row").length>0&&(scroll.scrollHead=$(datatable.tableHead).find("> .datatable-row"),scroll.scrollFoot=$(datatable.tableFoot).find("> .datatable-row"),Plugin.getOption("layout.customScrollbar")&&10!=util.detectIE()&&screen>util.getBreakpoint("lg")?scroll.initCustomScrollbar(datatable.tableBody):scroll.initDefaultScrollbar(datatable.tableBody))}},initDefaultScrollbar:function(scrollable){scroll.initPosition=$(scrollable).scrollLeft(),$(scrollable).css("overflow-y","auto").off().on("scroll",scroll.onScrolling),$(scrollable).css("overflow-x","auto")},onScrolling:function(e){var left=$(this).scrollLeft(),top=$(this).scrollTop();util.isRTL()&&(left-=scroll.initPosition),$(scroll.scrollHead).css("left",-left),$(scroll.scrollFoot).css("left",-left),$(scroll.tableLocked).each((function(i,table){Plugin.isLocked()&&(top-=1),$(table).css("top",-top)}))},initCustomScrollbar:function(scrollable){scroll.scrollable=scrollable,Plugin.initScrollbar(scrollable),scroll.initPosition=$(scrollable).scrollLeft(),$(scrollable).off().on("scroll",scroll.onScrolling)}};return scroll.init(),scroll},initScrollbar:function(element,options){if(element&&element.nodeName){$(datatable.tableBody).css("overflow","");var ps=$(element).data("ps");util.hasClass(element,"ps")&&void 0!==ps?ps.update():(ps=new PerfectScrollbar(element,Object.assign({},{wheelSpeed:.5,swipeEasing:!0,minScrollbarLength:40,maxScrollbarLength:300,suppressScrollX:Plugin.getOption("rows.autoHide")&&!Plugin.isLocked()},options)),$(element).data("ps",ps)),$(window).resize((function(){ps.update()}))}},setHeadTitle:function(tablePart){void 0===tablePart&&(tablePart=datatable.tableHead),tablePart=$(tablePart)[0];var columns=options.columns,row=tablePart.getElementsByTagName("tr")[0],ths=tablePart.getElementsByTagName("td");void 0===row&&(row=document.createElement("tr"),tablePart.appendChild(row)),$.each(columns,(function(i,column){var th=ths[i];if(void 0===th&&(th=document.createElement("th"),row.appendChild(th)),void 0!==column.title&&(th.innerHTML=column.title,th.setAttribute("data-field",column.field),util.addClass(th,column.class),void 0!==column.autoHide&&(!0!==column.autoHide?th.setAttribute("data-autohide-disabled",column.autoHide):th.setAttribute("data-autohide-enabled",column.autoHide)),$(th).data(column)),void 0!==column.attr&&$.each(column.attr,(function(key,val){th.setAttribute(key,val)})),void 0!==column.textAlign){var align=void 0!==datatable.textAlign[column.textAlign]?datatable.textAlign[column.textAlign]:"";util.addClass(th,align)}})),Plugin.setupDOM(tablePart)},dataRender:function(action){$(datatable.table).siblings(".datatable-pager").removeClass("datatable-paging-loaded");var buildMeta=function(){datatable.dataSet=datatable.dataSet||[],Plugin.localDataUpdate();var meta=Plugin.getDataSourceParam("pagination");0===meta.perpage&&(meta.perpage=options.data.pageSize||10),meta.total=datatable.dataSet.length;var start=Math.max(meta.perpage*(meta.page-1),0),end=Math.min(start+meta.perpage,meta.total);return datatable.dataSet=$(datatable.dataSet).slice(start,end),meta},afterGetData=function(result){var localPagingCallback=function(ctx,meta){$(ctx.pager).hasClass("datatable-paging-loaded")||($(ctx.pager).remove(),ctx.init(meta)),$(ctx.pager).off().on("datatable-on-goto-page",(function(e){$(ctx.pager).remove(),ctx.init(meta)}));var start=Math.max(meta.perpage*(meta.page-1),0),end=Math.min(start+meta.perpage,meta.total);Plugin.localDataUpdate(),datatable.dataSet=$(datatable.dataSet).slice(start,end),Plugin.insertData()};if($(datatable.wrap).removeClass("datatable-error"),options.pagination)if(options.data.serverPaging&&"local"!==options.data.type){var serverMeta=Plugin.getObject("meta",result||null);Plugin.pagingObject=null!==serverMeta?Plugin.paging(serverMeta):Plugin.paging(buildMeta(),localPagingCallback)}else Plugin.pagingObject=Plugin.paging(buildMeta(),localPagingCallback);else Plugin.localDataUpdate();Plugin.insertData()};"local"===options.data.type||!1===options.data.serverSorting&&"sort"===action||!1===options.data.serverFiltering&&"search"===action?setTimeout((function(){afterGetData(),Plugin.setAutoColumns()})):Plugin.getData().done(afterGetData)},insertData:function(){datatable.dataSet=datatable.dataSet||[];var params=Plugin.getDataSourceParam(),pagination=params.pagination,start=(Math.max(pagination.page,1)-1)*pagination.perpage,end=Math.min(pagination.page,pagination.pages)*pagination.perpage,rowProps={};void 0!==options.data.attr.rowProps&&options.data.attr.rowProps.length&&(rowProps=options.data.attr.rowProps.slice(start,end));var tableBody=document.createElement("tbody");tableBody.style.visibility="hidden";var colLength=options.columns.length;if($.each(datatable.dataSet,(function(rowIndex,row){var tr=document.createElement("tr");tr.setAttribute("data-row",rowIndex),$(tr).data("obj",row),void 0!==rowProps[rowIndex]&&$.each(rowProps[rowIndex],(function(){tr.setAttribute(this.name,this.value)}));for(var cellIndex=0,tds=[],a=0;a<colLength;a+=1){var column=options.columns[a],classes=[];if(Plugin.getObject("sort.field",params)===column.field&&classes.push("datatable-cell-sorted"),void 0!==column.textAlign){var align=void 0!==datatable.textAlign[column.textAlign]?datatable.textAlign[column.textAlign]:"";classes.push(align)}void 0!==column.class&&classes.push(column.class);var td=document.createElement("td");util.addClass(td,classes.join(" ")),td.setAttribute("data-field",column.field),void 0!==column.autoHide&&(!0!==column.autoHide?td.setAttribute("data-autohide-disabled",column.autoHide):td.setAttribute("data-autohide-enabled",column.autoHide)),td.innerHTML=Plugin.getObject(column.field,row),td.setAttribute("aria-label",Plugin.getObject(column.field,row)),tr.appendChild(td)}tableBody.appendChild(tr)})),0===datatable.dataSet.length){var errorSpan=document.createElement("span");util.addClass(errorSpan,"datatable-error"),errorSpan.innerHTML=Plugin.getOption("translate.records.noRecords"),tableBody.appendChild(errorSpan),$(datatable.wrap).addClass("datatable-error datatable-loaded"),Plugin.spinnerCallback(!1)}$(datatable.tableBody).replaceWith(tableBody),datatable.tableBody=tableBody,Plugin.setupDOM(datatable.table),Plugin.setupCellField([datatable.tableBody]),Plugin.setupTemplateCell(datatable.tableBody),Plugin.layoutUpdate()},updateTableComponents:function(){datatable.tableHead=$(datatable.table).children("thead").get(0),datatable.tableBody=$(datatable.table).children("tbody").get(0),datatable.tableFoot=$(datatable.table).children("tfoot").get(0)},getData:function(){var ajaxParams={dataType:"json",method:"POST",data:{},timeout:Plugin.getOption("data.source.read.timeout")||3e4};if("local"===options.data.type&&(ajaxParams.url=options.data.source),"remote"===options.data.type){var data=Plugin.getDataSourceParam();Plugin.getOption("data.serverPaging")||delete data.pagination,Plugin.getOption("data.serverSorting")||delete data.sort,ajaxParams.data=$.extend({},ajaxParams.data,Plugin.getOption("data.source.read.params"),data),"string"!=typeof(ajaxParams=$.extend({},ajaxParams,Plugin.getOption("data.source.read"))).url&&(ajaxParams.url=Plugin.getOption("data.source.read")),"string"!=typeof ajaxParams.url&&(ajaxParams.url=Plugin.getOption("data.source"))}return $.ajax(ajaxParams).done((function(response,textStatus,jqXHR){datatable.lastResponse=response,datatable.dataSet=datatable.originalDataSet=Plugin.dataMapCallback(response),Plugin.setAutoColumns(),$(datatable).trigger("datatable-on-ajax-done",[datatable.dataSet])})).fail((function(jqXHR,textStatus,errorThrown){$(datatable).trigger("datatable-on-ajax-fail",[jqXHR]),$(datatable.tableBody).html($("<span/>").addClass("datatable-error").html(Plugin.getOption("translate.records.noRecords"))),$(datatable.wrap).addClass("datatable-error datatable-loaded"),Plugin.spinnerCallback(!1)})).always((function(){}))},paging:function(meta,callback){var pg={meta:null,pager:null,paginateEvent:null,pagerLayout:{pagination:null,info:null},callback:null,init:function(meta){pg.meta=meta,pg.meta.page=parseInt(pg.meta.page),pg.meta.pages=parseInt(pg.meta.pages),pg.meta.perpage=parseInt(pg.meta.perpage),pg.meta.total=parseInt(pg.meta.total),pg.meta.pages=Math.max(Math.ceil(pg.meta.total/pg.meta.perpage),1),pg.meta.page>pg.meta.pages&&(pg.meta.page=pg.meta.pages),pg.paginateEvent=Plugin.getTablePrefix("paging"),pg.pager=$(datatable.table).siblings(".datatable-pager"),$(pg.pager).hasClass("datatable-paging-loaded")||($(pg.pager).remove(),0!==pg.meta.pages&&(Plugin.setDataSourceParam("pagination",{page:pg.meta.page,pages:pg.meta.pages,perpage:pg.meta.perpage,total:pg.meta.total}),pg.callback=pg.serverCallback,"function"==typeof callback&&(pg.callback=callback),pg.addPaginateEvent(),pg.populate(),pg.meta.page=Math.max(pg.meta.page||1,pg.meta.page),$(datatable).trigger(pg.paginateEvent,pg.meta),pg.pagingBreakpoint.call(),$(window).resize(pg.pagingBreakpoint)))},serverCallback:function(ctx,meta){Plugin.dataRender()},populate:function(){if(datatable.dataSet=datatable.dataSet||[],0!==datatable.dataSet.length){var icons=Plugin.getOption("layout.icons.pagination"),title=Plugin.getOption("translate.toolbar.pagination.items.default");pg.pager=$("<div/>").addClass("datatable-pager datatable-paging-loaded");var pagerNumber=$("<ul/>").addClass("datatable-pager-nav my-2 mb-sm-0");pg.pagerLayout.pagination=pagerNumber,$("<li/>").append($("<a/>").attr("title",title.first).addClass("datatable-pager-link datatable-pager-link-first").append($("<i/>").addClass(icons.first)).on("click",pg.gotoMorePage).attr("data-page",1)).appendTo(pagerNumber),$("<li/>").append($("<a/>").attr("title",title.prev).addClass("datatable-pager-link datatable-pager-link-prev").append($("<i/>").addClass(icons.prev)).on("click",pg.gotoMorePage)).appendTo(pagerNumber),$("<li/>").append($("<input/>").attr("type","text").addClass("datatable-pager-input form-control").attr("title",title.input).on("keyup",(function(){$(this).attr("data-page",Math.abs($(this).val()))})).on("keypress",(function(e){13===e.which&&pg.gotoMorePage(e)}))).appendTo(pagerNumber);var pagesNumber=Plugin.getOption("toolbar.items.pagination.pages.desktop.pagesNumber"),end=Math.ceil(pg.meta.page/pagesNumber)*pagesNumber,start=end-pagesNumber;end>pg.meta.pages&&(end=pg.meta.pages),start<0&&(start=0);for(var x=start;x<(end||1);x++){var pageNumber=x+1;$("<li/>").append($("<a/>").addClass("datatable-pager-link datatable-pager-link-number").text(pageNumber).attr("data-page",pageNumber).attr("title",pageNumber).on("click",pg.gotoPage)).appendTo(pagerNumber)}$("<li/>").append($("<a/>").attr("title",title.next).addClass("datatable-pager-link datatable-pager-link-next").append($("<i/>").addClass(icons.next)).on("click",pg.gotoMorePage)).appendTo(pagerNumber),$("<li/>").append($("<a/>").attr("title",title.last).addClass("datatable-pager-link datatable-pager-link-last").append($("<i/>").addClass(icons.last)).on("click",pg.gotoMorePage).attr("data-page",pg.meta.pages)).appendTo(pagerNumber),Plugin.getOption("toolbar.items.info")&&(pg.pagerLayout.info=$("<div/>").addClass("datatable-pager-info my-2 mb-sm-0").append($("<span/>").addClass("datatable-pager-detail"))),$.each(Plugin.getOption("toolbar.layout"),(function(i,layout){$(pg.pagerLayout[layout]).appendTo(pg.pager)}));var pageSizeSelect=$("<select/>").addClass("selectpicker datatable-pager-size").attr("title",Plugin.getOption("translate.toolbar.pagination.items.default.select")).attr("data-width","60px").attr("data-container","body").val(pg.meta.perpage).on("change",pg.updatePerpage).prependTo(pg.pagerLayout.info),pageSizes=Plugin.getOption("toolbar.items.pagination.pageSizeSelect");0==pageSizes.length&&(pageSizes=[5,10,20,30,50,100]),$.each(pageSizes,(function(i,size){var display=size;-1===size&&(display=Plugin.getOption("translate.toolbar.pagination.items.default.all")),$("<option/>").attr("value",size).html(display).appendTo(pageSizeSelect)})),$(datatable).ready((function(){$(".selectpicker").selectpicker().on("hide.bs.select",(function(){$(this).closest(".bootstrap-select").removeClass("dropup")})).siblings(".dropdown-toggle").attr("title",Plugin.getOption("translate.toolbar.pagination.items.default.select"))})),pg.paste()}},paste:function(){$.each($.unique(Plugin.getOption("toolbar.placement")),(function(i,position){"bottom"===position&&$(pg.pager).clone(!0).insertAfter(datatable.table),"top"===position&&$(pg.pager).clone(!0).addClass("datatable-pager-top").insertBefore(datatable.table)}))},gotoMorePage:function(e){if(e.preventDefault(),"disabled"===$(this).attr("disabled"))return!1;var page=$(this).attr("data-page");return void 0===page&&(page=$(e.target).attr("data-page")),pg.openPage(parseInt(page)),!1},gotoPage:function(e){e.preventDefault(),$(this).hasClass("datatable-pager-link-active")||pg.openPage(parseInt($(this).data("page")))},openPage:function(page){pg.meta.page=parseInt(page),$(datatable).trigger(pg.paginateEvent,pg.meta),pg.callback(pg,pg.meta),$(pg.pager).trigger("datatable-on-goto-page",pg.meta)},updatePerpage:function(e){e.preventDefault(),$(this).selectpicker("toggle"),pg.pager=$(datatable.table).siblings(".datatable-pager").removeClass("datatable-paging-loaded"),e.originalEvent&&(pg.meta.perpage=parseInt($(this).val())),$(pg.pager).find("select.datatable-pager-size").val(pg.meta.perpage).attr("data-selected",pg.meta.perpage),Plugin.setDataSourceParam("pagination",{page:pg.meta.page,pages:pg.meta.pages,perpage:pg.meta.perpage,total:pg.meta.total}),$(pg.pager).trigger("datatable-on-update-perpage",pg.meta),$(datatable).trigger(pg.paginateEvent,pg.meta),pg.callback(pg,pg.meta),pg.updateInfo.call()},addPaginateEvent:function(e){$(datatable).off(pg.paginateEvent).on(pg.paginateEvent,(function(e,meta){Plugin.spinnerCallback(!0),pg.pager=$(datatable.table).siblings(".datatable-pager");var pagerNumber=$(pg.pager).find(".datatable-pager-nav");$(pagerNumber).find(".datatable-pager-link-active").removeClass("datatable-pager-link-active"),$(pagerNumber).find('.datatable-pager-link-number[data-page="'+meta.page+'"]').addClass("datatable-pager-link-active"),$(pagerNumber).find(".datatable-pager-link-prev").attr("data-page",Math.max(meta.page-1,1)),$(pagerNumber).find(".datatable-pager-link-next").attr("data-page",Math.min(meta.page+1,meta.pages)),$(pg.pager).each((function(){$(this).find('.datatable-pager-input[type="text"]').prop("value",meta.page)})),Plugin.setDataSourceParam("pagination",{page:pg.meta.page,pages:pg.meta.pages,perpage:pg.meta.perpage,total:pg.meta.total}),$(pg.pager).find("select.datatable-pager-size").val(meta.perpage).attr("data-selected",meta.perpage),$(datatable.table).find('.checkbox > [type="checkbox"]').prop("checked",!1),$(datatable.table).find(".datatable-row-active").removeClass("datatable-row-active"),pg.updateInfo.call(),pg.pagingBreakpoint.call()}))},updateInfo:function(){var start=Math.max(pg.meta.perpage*(pg.meta.page-1)+1,1),end=Math.min(start+pg.meta.perpage-1,pg.meta.total);$(pg.pager).find(".datatable-pager-info").find(".datatable-pager-detail").html(Plugin.dataPlaceholder(Plugin.getOption("translate.toolbar.pagination.items.info"),{start:0===pg.meta.total?0:start,end:-1===pg.meta.perpage?pg.meta.total:end,pageSize:-1===pg.meta.perpage||pg.meta.perpage>=pg.meta.total?pg.meta.total:pg.meta.perpage,total:pg.meta.total}))},pagingBreakpoint:function(){var pagerNumber=$(datatable.table).siblings(".datatable-pager").find(".datatable-pager-nav");if(0!==$(pagerNumber).length){var currentPage=Plugin.getCurrentPage(),pagerInput=$(pagerNumber).find(".datatable-pager-input").closest("li");$(pagerNumber).find("li").show(),$.each(Plugin.getOption("toolbar.items.pagination.pages"),(function(mode,option){if(util.isInResponsiveRange(mode)){switch(mode){case"desktop":case"tablet":var end,start=Math.ceil(currentPage/option.pagesNumber)*option.pagesNumber-option.pagesNumber;$(pagerInput).hide(),pg.meta=Plugin.getDataSourceParam("pagination"),pg.paginationUpdate();break;case"mobile":$(pagerInput).show(),$(pagerNumber).find(".datatable-pager-link-more-prev").closest("li").hide(),$(pagerNumber).find(".datatable-pager-link-more-next").closest("li").hide(),$(pagerNumber).find(".datatable-pager-link-number").closest("li").hide()}return!1}}))}},paginationUpdate:function(){var pager=$(datatable.table).siblings(".datatable-pager").find(".datatable-pager-nav"),pagerMorePrev=$(pager).find(".datatable-pager-link-more-prev"),pagerMoreNext=$(pager).find(".datatable-pager-link-more-next"),pagerFirst=$(pager).find(".datatable-pager-link-first"),pagerPrev=$(pager).find(".datatable-pager-link-prev"),pagerNext=$(pager).find(".datatable-pager-link-next"),pagerLast=$(pager).find(".datatable-pager-link-last"),pagerNumber=$(pager).find(".datatable-pager-link-number"),morePrevPage=Math.max($(pagerNumber).first().data("page")-1,1);$(pagerMorePrev).each((function(i,prev){$(prev).attr("data-page",morePrevPage)})),1===morePrevPage?$(pagerMorePrev).parent().hide():$(pagerMorePrev).parent().show();var moreNextPage=Math.min($(pagerNumber).last().data("page")+1,pg.meta.pages);$(pagerMoreNext).each((function(i,prev){$(pagerMoreNext).attr("data-page",moreNextPage).show()})),moreNextPage===pg.meta.pages&&moreNextPage===$(pagerNumber).last().data("page")?$(pagerMoreNext).parent().hide():$(pagerMoreNext).parent().show(),1===pg.meta.page?($(pagerFirst).attr("disabled",!0).addClass("datatable-pager-link-disabled"),$(pagerPrev).attr("disabled",!0).addClass("datatable-pager-link-disabled")):($(pagerFirst).removeAttr("disabled").removeClass("datatable-pager-link-disabled"),$(pagerPrev).removeAttr("disabled").removeClass("datatable-pager-link-disabled")),pg.meta.page===pg.meta.pages?($(pagerNext).attr("disabled",!0).addClass("datatable-pager-link-disabled"),$(pagerLast).attr("disabled",!0).addClass("datatable-pager-link-disabled")):($(pagerNext).removeAttr("disabled").removeClass("datatable-pager-link-disabled"),$(pagerLast).removeAttr("disabled").removeClass("datatable-pager-link-disabled"));var nav=Plugin.getOption("toolbar.items.pagination.navigation");nav.first||$(pagerFirst).remove(),nav.prev||$(pagerPrev).remove(),nav.next||$(pagerNext).remove(),nav.last||$(pagerLast).remove(),nav.more||($(pagerMorePrev).remove(),$(pagerMoreNext).remove())}};return pg.init(meta),pg},columnHide:function(){var screen=util.getViewPort().width;$.each(options.columns,(function(i,column){if(void 0!==column.responsive||void 0!==column.visible){var field=column.field,tds=$.grep($(datatable.table).find(".datatable-cell"),(function(n,i){return field===$(n).data("field")}));setTimeout((function(){!1===Plugin.getObject("visible",column)?$(tds).hide():(util.getBreakpoint(Plugin.getObject("responsive.hidden",column))>=screen?$(tds).hide():$(tds).show(),util.getBreakpoint(Plugin.getObject("responsive.visible",column))<=screen?$(tds).show():$(tds).hide())}))}}))},setupSubDatatable:function(){var subTableCallback=Plugin.getOption("detail.content");if("function"==typeof subTableCallback&&!($(datatable.table).find(".datatable-subtable").length>0)){$(datatable.wrap).addClass("datatable-subtable"),options.columns[0].subtable=!0;var toggleSubTable=function(e){e.preventDefault();var parentRow=$(this).closest(".datatable-row"),subTableRow=$(parentRow).next(".datatable-row-subtable");0===$(subTableRow).length&&(subTableRow=$("<tr/>").addClass("datatable-row-subtable datatable-row-loading").hide().append($("<td/>").addClass("datatable-subtable").attr("colspan",Plugin.getTotalColumns())),$(parentRow).after(subTableRow),$(parentRow).hasClass("datatable-row-even")&&$(subTableRow).addClass("datatable-row-subtable-even")),$(subTableRow).toggle();var subTable=$(subTableRow).find(".datatable-subtable"),primaryKey=$(this).closest("[data-field]:first-child").find(".datatable-toggle-subtable").data("value"),icon=$(this).find("i").removeAttr("class");$(parentRow).hasClass("datatable-row-subtable-expanded")?($(icon).addClass(Plugin.getOption("layout.icons.rowDetail.collapse")),$(parentRow).removeClass("datatable-row-subtable-expanded"),$(datatable).trigger("datatable-on-collapse-subtable",[parentRow])):($(icon).addClass(Plugin.getOption("layout.icons.rowDetail.expand")),$(parentRow).addClass("datatable-row-subtable-expanded"),$(datatable).trigger("datatable-on-expand-subtable",[parentRow])),0===$(subTable).find(".datatable").length&&($.map(datatable.dataSet,(function(n,i){return primaryKey===n[options.columns[0].field]&&(e.data=n,!0)})),e.detailCell=subTable,e.parentRow=parentRow,e.subTable=subTable,subTableCallback(e),$(subTable).children(".datatable").on("datatable-on-init",(function(e){$(subTableRow).removeClass("datatable-row-loading")})),"local"===Plugin.getOption("data.type")&&$(subTableRow).removeClass("datatable-row-loading"))},columns=options.columns;$(datatable.tableBody).find(".datatable-row").each((function(tri,tr){$(tr).find(".datatable-cell").each((function(tdi,td){var column=$.grep(columns,(function(n,i){return $(td).data("field")===n.field}))[0];if(void 0!==column){var value=$(td).text();if(void 0!==column.subtable&&column.subtable){if($(td).find(".datatable-toggle-subtable").length>0)return;$(td).html($("<a/>").addClass("datatable-toggle-subtable").attr("href","#").attr("data-value",value).attr("title",Plugin.getOption("detail.title")).on("click",toggleSubTable).append($("<i/>").css("width",$(td).data("width")).addClass(Plugin.getOption("layout.icons.rowDetail.collapse"))))}}}))}))}},dataMapCallback:function(raw){var dataSet=raw;return"function"==typeof Plugin.getOption("data.source.read.map")?Plugin.getOption("data.source.read.map")(raw):(void 0!==raw&&void 0!==raw.data&&(dataSet=raw.data),dataSet)},isSpinning:!1,spinnerCallback:function(block,target){void 0===target&&(target=datatable);var spinnerOptions=Plugin.getOption("layout.spinner");void 0!==spinnerOptions&&spinnerOptions&&(block?Plugin.isSpinning||(void 0!==spinnerOptions.message&&!0===spinnerOptions.message&&(spinnerOptions.message=Plugin.getOption("translate.records.processing")),Plugin.isSpinning=!0,void 0!==app&&app.block(target,spinnerOptions)):(Plugin.isSpinning=!1,void 0!==app&&app.unblock(target)))},sortCallback:function(data,sort,column){var type=column.type||"string",format=column.format||"",field=column.field;return $(data).sort((function(a,b){var aField=a[field],bField=b[field];switch(type){case"date":if("undefined"==typeof moment)throw new Error("Moment.js is required.");var diff=moment(aField,format).diff(moment(bField,format));return"asc"===sort?diff>0?1:diff<0?-1:0:diff<0?1:diff>0?-1:0;case"number":return isNaN(parseFloat(aField))&&null!=aField&&(aField=Number(aField.replace(/[^0-9\.-]+/g,""))),isNaN(parseFloat(bField))&&null!=bField&&(bField=Number(bField.replace(/[^0-9\.-]+/g,""))),aField=parseFloat(aField),bField=parseFloat(bField),"asc"===sort?aField>bField?1:aField<bField?-1:0:aField<bField?1:aField>bField?-1:0;case"html":return $(data).sort((function(a,b){return aField=$(a[field]).text(),bField=$(b[field]).text(),"asc"===sort?aField>bField?1:aField<bField?-1:0:aField<bField?1:aField>bField?-1:0}));case"string":default:return"asc"===sort?aField>bField?1:aField<bField?-1:0:aField<bField?1:aField>bField?-1:0}}))},log:function(text,obj){void 0===obj&&(obj=""),datatable.debug&&console.log(text,obj)},autoHide:function(){var hiddenExist=!1,hidDefault=$(datatable.table).find("[data-autohide-enabled]");hidDefault.length&&(hiddenExist=!0,hidDefault.hide());var toggleHiddenColumns=function(e){e.preventDefault();var row=$(this).closest(".datatable-row"),detailRow=$(row).next();if($(detailRow).hasClass("datatable-row-detail"))$(this).find("i").removeClass(Plugin.getOption("layout.icons.rowDetail.expand")).addClass(Plugin.getOption("layout.icons.rowDetail.collapse")),$(detailRow).remove();else{$(this).find("i").removeClass(Plugin.getOption("layout.icons.rowDetail.collapse")).addClass(Plugin.getOption("layout.icons.rowDetail.expand"));var hiddenCells,clonedCells=$(row).find(".datatable-cell:hidden").clone().show();detailRow=$("<tr/>").addClass("datatable-row-detail").insertAfter(row);var detailRowTd=$("<td/>").addClass("datatable-detail").attr("colspan",Plugin.getTotalColumns()).appendTo(detailRow),detailSubTable=$("<table/>");$(clonedCells).each((function(){var field=$(this).data("field"),column=$.grep(options.columns,(function(n,i){return field===n.field}))[0];void 0!==column&&!1===column.visible||$(detailSubTable).append($('<tr class="datatable-row"></tr>').append($('<td class="datatable-cell"></td>').append($("<span/>").append(column.title))).append(this))})),$(detailRowTd).append(detailSubTable)}};setTimeout((function(){$(datatable.table).find(".datatable-cell").show(),$(datatable.tableBody).each((function(){for(var recursive=0;$(this)[0].offsetWidth<$(this)[0].scrollWidth&&recursive<options.columns.length;)$(datatable.table).find(".datatable-row").each((function(i){var cell=$(this).find(".datatable-cell:not(:hidden):not([data-autohide-disabled])").last();$(cell).hide(),hiddenExist=!0})),recursive++})),hiddenExist&&$(datatable.tableBody).find(".datatable-row").each((function(){0===$(this).find(".datatable-toggle-detail").length&&$(this).prepend($("<td/>").addClass("datatable-cell datatable-toggle-detail").append($("<a/>").addClass("datatable-toggle-detail").attr("href","").on("click",toggleHiddenColumns).append('<i class="'+Plugin.getOption("layout.icons.rowDetail.collapse")+'"></i>'))),0===$(datatable.tableHead).find(".datatable-toggle-detail").length?($(datatable.tableHead).find(".datatable-row").first().prepend('<th class="datatable-cell datatable-toggle-detail"><span></span></th>'),$(datatable.tableFoot).find(".datatable-row").first().prepend('<th class="datatable-cell datatable-toggle-detail"><span></span></th>')):$(datatable.tableHead).find(".datatable-toggle-detail").find("span")}))})),Plugin.adjustCellsWidth.call()},setAutoColumns:function(){Plugin.getOption("data.autoColumns")&&($.each(datatable.dataSet[0],(function(k,v){var found;0===$.grep(options.columns,(function(n,i){return k===n.field})).length&&options.columns.push({field:k,title:k})})),$(datatable.tableHead).find(".datatable-row").remove(),Plugin.setHeadTitle(),Plugin.getOption("layout.footer")&&($(datatable.tableFoot).find(".datatable-row").remove(),Plugin.setHeadTitle(datatable.tableFoot)))},isLocked:function(){var isLocked=Plugin.lockEnabledColumns();return isLocked.left.length>0||isLocked.right.length>0},isSubtable:function(){return util.hasClass(datatable.wrap[0],"datatable-subtable")||!1},getExtraSpace:function(element){var padding,margin,border;return parseInt($(element).css("paddingRight"))+parseInt($(element).css("paddingLeft"))+(parseInt($(element).css("marginRight"))+parseInt($(element).css("marginLeft")))+Math.ceil($(element).css("border-right-width").replace("px",""))},dataPlaceholder:function(template,data){var result=template;return $.each(data,(function(key,val){result=result.replace("{{"+key+"}}",val)})),result},getTableId:function(suffix){void 0===suffix&&(suffix="");var id=$(datatable).attr("id");return void 0===id&&(id=$(datatable).attr("class").split(" ")[0]),id+suffix},getTablePrefix:function(suffix){return void 0!==suffix&&(suffix="-"+suffix),Plugin.getTableId()+"-"+Plugin.getDepth()+suffix},getDepth:function(){var depth=0,table=datatable.table;do{table=$(table).parents(".datatable-table"),depth++}while($(table).length>0);return depth},stateKeep:function(key,value){key=Plugin.getTablePrefix(key),!1!==Plugin.getOption("data.saveState")&&localStorage&&localStorage.setItem(key,JSON.stringify(value))},stateGet:function(key,defValue){if(key=Plugin.getTablePrefix(key),!1!==Plugin.getOption("data.saveState")){var value=null;return localStorage&&(value=localStorage.getItem(key)),null!=value?JSON.parse(value):void 0}},stateUpdate:function(key,value){var ori=Plugin.stateGet(key);null==ori&&(ori={}),Plugin.stateKeep(key,$.extend({},ori,value))},stateRemove:function(key){key=Plugin.getTablePrefix(key),localStorage&&localStorage.removeItem(key)},getTotalColumns:function(tablePart){return void 0===tablePart&&(tablePart=datatable.tableBody),$(tablePart).find(".datatable-row").first().find(".datatable-cell").length},getOneRow:function(tablePart,row,tdOnly){void 0===tdOnly&&(tdOnly=!0);var result=$(tablePart).find(".datatable-row:not(.datatable-row-detail):nth-child("+row+")");return tdOnly&&(result=result.find(".datatable-cell")),result},sortColumn:function(header,sort,int){void 0===sort&&(sort="asc"),void 0===int&&(int=!1);var column=$(header).index(),rows=$(datatable.tableBody).find(".datatable-row"),hIndex=$(header).closest(".datatable-lock").index();-1!==hIndex&&(rows=$(datatable.tableBody).find(".datatable-lock:nth-child("+(hIndex+1)+")").find(".datatable-row"));var container=$(rows).parent();$(rows).sort((function(a,b){var tda=$(a).find("td:nth-child("+column+")").text(),tdb=$(b).find("td:nth-child("+column+")").text();return int&&(tda=parseInt(tda),tdb=parseInt(tdb)),"asc"===sort?tda>tdb?1:tda<tdb?-1:0:tda<tdb?1:tda>tdb?-1:0})).appendTo(container)},sorting:function(){var sortObj={init:function(){options.sortable&&($(datatable.tableHead).find(".datatable-cell:not(.datatable-cell-check)").addClass("datatable-cell-sort").off("click").on("click",sortObj.sortClick),sortObj.setIcon())},setIcon:function(){var meta=Plugin.getDataSourceParam("sort");if(!$.isEmptyObject(meta)){var column=Plugin.getColumnByField(meta.field);if(void 0!==column&&!(void 0!==column.sortable&&!1===column.sortable||void 0!==column.selector&&!0===column.selector)){var td=$(datatable.tableHead).find('.datatable-cell[data-field="'+meta.field+'"]').attr("data-sort",meta.sort),sorting=$(td).find("span"),icon=$(sorting).find("i"),icons=Plugin.getOption("layout.icons.sort");$(icon).length>0?$(icon).removeAttr("class").addClass(icons[meta.sort]):$(sorting).append($("<i/>").addClass(icons[meta.sort])),$(td).addClass("datatable-cell-sorted")}}},sortClick:function(e){var meta=Plugin.getDataSourceParam("sort"),field=$(this).data("field"),column=Plugin.getColumnByField(field);if(void 0!==column&&(void 0===column.sortable||!1!==column.sortable)&&(void 0===column.selector||!0!==column.selector)&&($(datatable.tableHead).find("th").removeClass("datatable-cell-sorted"),util.addClass(this,"datatable-cell-sorted"),$(datatable.tableHead).find(".datatable-cell > span > i").remove(),options.sortable)){Plugin.spinnerCallback(!0);var sort="desc";Plugin.getObject("field",meta)===field&&(sort=Plugin.getObject("sort",meta)),meta={field:field,sort:sort=void 0===sort||"desc"===sort?"asc":"desc"},Plugin.setDataSourceParam("sort",meta),sortObj.setIcon(),setTimeout((function(){Plugin.dataRender("sort"),$(datatable).trigger("datatable-on-sort",meta)}),300)}}};sortObj.init()},localDataUpdate:function(){var params=Plugin.getDataSourceParam();void 0===datatable.originalDataSet&&(datatable.originalDataSet=datatable.dataSet);var field=Plugin.getObject("sort.field",params),sort=Plugin.getObject("sort.sort",params),column=Plugin.getColumnByField(field);if(void 0!==column&&!0!==Plugin.getOption("data.serverSorting")?"function"==typeof column.sortCallback?datatable.dataSet=column.sortCallback(datatable.originalDataSet,sort,column):datatable.dataSet=Plugin.sortCallback(datatable.originalDataSet,sort,column):datatable.dataSet=datatable.originalDataSet,"object"==typeof params.query&&!Plugin.getOption("data.serverFiltering")){params.query=params.query||{};var nestedSearch=function(obj){for(var field in obj)if(obj.hasOwnProperty(field))if("string"==typeof obj[field]){if(obj[field].toLowerCase()==search||-1!==obj[field].toLowerCase().indexOf(search))return!0}else if("number"==typeof obj[field]){if(obj[field]===search)return!0}else if("object"==typeof obj[field]&&nestedSearch(obj[field]))return!0;return!1},search=$(Plugin.getOption("search.input")).val();void 0!==search&&""!==search&&(search=search.toLowerCase(),datatable.dataSet=$.grep(datatable.dataSet,nestedSearch),delete params.query[Plugin.getGeneralSearchKey()]),$.each(params.query,(function(k,v){""===v&&delete params.query[k]})),datatable.dataSet=Plugin.filterArray(datatable.dataSet,params.query),datatable.dataSet=datatable.dataSet.filter((function(){return!0}))}return datatable.dataSet},filterArray:function(list,args,operator){if("object"!=typeof list)return[];if(void 0===operator&&(operator="AND"),"object"!=typeof args)return list;if(operator=operator.toUpperCase(),-1===$.inArray(operator,["AND","OR","NOT"]))return[];var count=Object.keys(args).length,filtered=[];return $.each(list,(function(key,obj){var to_match=obj,matched=0;$.each(args,(function(m_key,m_value){m_value=m_value instanceof Array?m_value:[m_value];var match_property=Plugin.getObject(m_key,to_match);if(void 0!==match_property&&match_property){var lhs=match_property.toString().toLowerCase();m_value.forEach((function(item,index){item.toString().toLowerCase()!=lhs&&-1===lhs.indexOf(item.toString().toLowerCase())||matched++}))}})),("AND"==operator&&matched==count||"OR"==operator&&matched>0||"NOT"==operator&&0==matched)&&(filtered[key]=obj)})),list=filtered},resetScroll:function(){void 0===options.detail&&1===Plugin.getDepth()&&($(datatable.table).find(".datatable-row").css("left",0),$(datatable.table).find(".datatable-lock").css("top",0),$(datatable.tableBody).scrollTop(0))},getColumnByField:function(field){var result;if(void 0!==field)return $.each(options.columns,(function(i,column){if(field===column.field)return result=column,!1})),result},getDefaultSortColumn:function(){var result;return $.each(options.columns,(function(i,column){if(void 0!==column.sortable&&-1!==$.inArray(column.sortable,["asc","desc"]))return result={sort:column.sortable,field:column.field},!1})),result},getHiddenDimensions:function(element,includeMargin){var props={position:"absolute",visibility:"hidden",display:"block"},dim={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},hiddenParents=$(element).parents().addBack().not(":visible");includeMargin="boolean"==typeof includeMargin&&includeMargin;var oldProps=[];return hiddenParents.each((function(){var old={};for(var name in props)old[name]=this.style[name],this.style[name]=props[name];oldProps.push(old)})),dim.width=$(element).width(),dim.outerWidth=$(element).outerWidth(includeMargin),dim.innerWidth=$(element).innerWidth(),dim.height=$(element).height(),dim.innerHeight=$(element).innerHeight(),dim.outerHeight=$(element).outerHeight(includeMargin),hiddenParents.each((function(i){var old=oldProps[i];for(var name in props)this.style[name]=old[name]})),dim},getGeneralSearchKey:function(){var searchInput=$(Plugin.getOption("search.input"));return Plugin.getOption("search.key")||$(searchInput).prop("name")},getObject:function(path,object){return path.split(".").reduce((function(obj,i){return null!==obj&&void 0!==obj[i]?obj[i]:null}),object)},extendObj:function(obj,path,value){var levels=path.split("."),i=0;function createLevel(child){var name=levels[i++];void 0!==child[name]&&null!==child[name]?"object"!=typeof child[name]&&"function"!=typeof child[name]&&(child[name]={}):child[name]={},i===levels.length?child[name]=value:createLevel(child[name])}return createLevel(obj),obj},rowEvenOdd:function(){$(datatable.tableBody).find(".datatable-row").removeClass("datatable-row-even"),$(datatable.wrap).hasClass("datatable-subtable")?$(datatable.tableBody).find(".datatable-row:not(.datatable-row-detail):even").addClass("datatable-row-even"):$(datatable.tableBody).find(".datatable-row:nth-child(even)").addClass("datatable-row-even")},timer:0,redraw:function(){return Plugin.adjustCellsWidth.call(),Plugin.isLocked()&&(Plugin.scrollbar(),Plugin.resetScroll(),Plugin.adjustCellsHeight.call()),Plugin.adjustLockContainer.call(),Plugin.initHeight.call(),datatable},load:function(){return Plugin.reload(),datatable},reload:function(){var delay;return function(callback,ms){clearTimeout(Plugin.timer),Plugin.timer=setTimeout(callback,ms)}((function(){options.data.serverFiltering||Plugin.localDataUpdate(),Plugin.dataRender(),$(datatable).trigger("datatable-on-reloaded")}),Plugin.getOption("search.delay")),datatable},getRecord:function(id){return void 0===datatable.tableBody&&(datatable.tableBody=$(datatable.table).children("tbody")),$(datatable.tableBody).find(".datatable-cell:first-child").each((function(i,cell){if(id==$(cell).text()){var rowNumber=$(cell).closest(".datatable-row").index()+1;return datatable.API.record=datatable.API.value=Plugin.getOneRow(datatable.tableBody,rowNumber),datatable}})),datatable},getColumn:function(columnName){return Plugin.setSelectedRecords(),datatable.API.value=$(datatable.API.record).find('[data-field="'+columnName+'"]'),datatable},destroy:function(){$(datatable).parent().find(".datatable-pager").remove();var initialDatatable=$(datatable.initialDatatable).addClass("datatable-destroyed").show();return $(datatable).replaceWith(initialDatatable),$(datatable=initialDatatable).trigger("datatable-on-destroy"),Plugin.isInit=!1,initialDatatable=null,datatable.dataSet=null,datatable.originalDataSet=null,datatable.tableHead=null,datatable.tableBody=null,datatable.table=null,datatable.wrap=null,datatable.API={record:null,value:null,params:null},Plugin.ajaxParams={},Plugin.pagingObject={},Plugin.nodeTr=[],Plugin.nodeTd=[],Plugin.nodeCols=[],Plugin.recentNode=[],initialDatatable},sort:function(field,sort){sort=void 0===sort?"asc":sort,Plugin.spinnerCallback(!0);var meta={field:field,sort:sort};return Plugin.setDataSourceParam("sort",meta),setTimeout((function(){Plugin.dataRender("sort"),$(datatable).trigger("datatable-on-sort",meta),$(datatable.tableHead).find(".datatable-cell > span > i").remove()}),300),datatable},getValue:function(){return $(datatable.API.value).text()},setActive:function(cell){"string"==typeof cell&&(cell=$(datatable.tableBody).find('.checkbox-single > [type="checkbox"][value="'+cell+'"]')),$(cell).prop("checked",!0);var ids=[];$(cell).each((function(i,td){var row=$(td).closest("tr").addClass("datatable-row-active"),id=$(td).attr("value");void 0!==id&&ids.push(id)})),$(datatable).trigger("datatable-on-check",[ids])},setInactive:function(cell){"string"==typeof cell&&(cell=$(datatable.tableBody).find('.checkbox-single > [type="checkbox"][value="'+cell+'"]')),$(cell).prop("checked",!1);var ids=[];$(cell).each((function(i,td){var row=$(td).closest("tr").removeClass("datatable-row-active"),id=$(td).attr("value");void 0!==id&&ids.push(id)})),$(datatable).trigger("datatable-on-uncheck",[ids])},setActiveAll:function(active){var checkboxes=$(datatable.table).find("> tbody, > thead").find("tr").not(".datatable-row-subtable").find('.datatable-cell-check [type="checkbox"]');active?Plugin.setActive(checkboxes):Plugin.setInactive(checkboxes)},setSelectedRecords:function(){return datatable.API.record=$(datatable.tableBody).find(".datatable-row-active"),datatable},getSelectedRecords:function(){return Plugin.setSelectedRecords(),datatable.API.record=datatable.rows(".datatable-row-active").nodes(),datatable.API.record},getOption:function(path){return Plugin.getObject(path,options)},setOption:function(path,object){options=Plugin.extendObj(options,path,object)},search:function(value,columns){var delay;void 0!==columns&&(columns=$.makeArray(columns)),callback=function(){var query=Plugin.getDataSourceQuery();if(void 0===columns&&void 0!==value){var key=Plugin.getGeneralSearchKey();query[key]=value}"object"==typeof columns&&($.each(columns,(function(k,column){query[column]=value})),$.each(query,(function(k,v){(""===v||$.isEmptyObject(v))&&delete query[k]}))),Plugin.setDataSourceQuery(query),datatable.setDataSourceParam("pagination",Object.assign({},datatable.getDataSourceParam("pagination"),{page:1})),options.data.serverFiltering||Plugin.localDataUpdate(),Plugin.dataRender("search")},ms=Plugin.getOption("search.delay"),clearTimeout(Plugin.timer),Plugin.timer=setTimeout(callback,ms);var callback,ms},setDataSourceParam:function(param,value){datatable.API.params=$.extend({},{pagination:{page:1,perpage:Plugin.getOption("data.pageSize")},sort:Plugin.getDefaultSortColumn(),query:{}},datatable.API.params,Plugin.stateGet(Plugin.stateId)),datatable.API.params=Plugin.extendObj(datatable.API.params,param,value),Plugin.stateKeep(Plugin.stateId,datatable.API.params)},getDataSourceParam:function(param){return datatable.API.params=$.extend({},{pagination:{page:1,perpage:Plugin.getOption("data.pageSize")},sort:Plugin.getDefaultSortColumn(),query:{}},datatable.API.params,Plugin.stateGet(Plugin.stateId)),"string"==typeof param?Plugin.getObject(param,datatable.API.params):datatable.API.params},getDataSourceQuery:function(){return Plugin.getDataSourceParam("query")||{}},setDataSourceQuery:function(query){Plugin.setDataSourceParam("query",query)},getCurrentPage:function(){return $(datatable.table).siblings(".datatable-pager").last().find(".datatable-pager-nav").find(".datatable-pager-link.datatable-pager-link-active").data("page")||1},getPageSize:function(){return $(datatable.table).siblings(".datatable-pager").last().find("select.datatable-pager-size").val()||10},getTotalRows:function(){return datatable.API.params.pagination.total},getDataSet:function(){return datatable.originalDataSet},nodeTr:[],nodeTd:[],nodeCols:[],recentNode:[],table:function(){if(void 0!==datatable.table)return datatable.table},row:function(selector){return Plugin.rows(selector),Plugin.nodeTr=Plugin.recentNode=$(Plugin.nodeTr).first(),datatable},rows:function(selector){return Plugin.isLocked()?Plugin.nodeTr=Plugin.recentNode=$(datatable.tableBody).find(selector).filter(".datatable-lock-scroll > .datatable-row"):Plugin.nodeTr=Plugin.recentNode=$(datatable.tableBody).find(selector).filter(".datatable-row"),datatable},column:function(index){return Plugin.nodeCols=Plugin.recentNode=$(datatable.tableBody).find(".datatable-cell:nth-child("+(index+1)+")"),datatable},columns:function(selector){var context=datatable.table;Plugin.nodeTr===Plugin.recentNode&&(context=Plugin.nodeTr);var columns=$(context).find('.datatable-cell[data-field="'+selector+'"]');return columns.length>0?Plugin.nodeCols=Plugin.recentNode=columns:Plugin.nodeCols=Plugin.recentNode=$(context).find(selector).filter(".datatable-cell"),datatable},cell:function(selector){return Plugin.cells(selector),Plugin.nodeTd=Plugin.recentNode=$(Plugin.nodeTd).first(),datatable},cells:function(selector){var cells=$(datatable.tableBody).find(".datatable-cell");return void 0!==selector&&(cells=$(cells).filter(selector)),Plugin.nodeTd=Plugin.recentNode=cells,datatable},remove:function(){return $(Plugin.nodeTr.length)&&Plugin.nodeTr===Plugin.recentNode&&$(Plugin.nodeTr).remove(),Plugin.layoutUpdate(),datatable},visible:function(bool){if($(Plugin.recentNode.length)){var locked=Plugin.lockEnabledColumns();if(Plugin.recentNode===Plugin.nodeCols){var index=Plugin.recentNode.index();if(Plugin.isLocked()){var scrollColumns=$(Plugin.recentNode).closest(".datatable-lock-scroll").length;scrollColumns?index+=locked.left.length+1:$(Plugin.recentNode).closest(".datatable-lock-right").length&&(index+=locked.left.length+scrollColumns+1)}}bool?(Plugin.recentNode===Plugin.nodeCols&&delete options.columns[index].visible,$(Plugin.recentNode).show()):(Plugin.recentNode===Plugin.nodeCols&&Plugin.setOption("columns."+index+".visible",!1),$(Plugin.recentNode).hide()),Plugin.columnHide(),Plugin.redraw()}},nodes:function(){return Plugin.recentNode},dataset:function(){return datatable},gotoPage:function(page){void 0!==Plugin.pagingObject&&(Plugin.isInit=!0,Plugin.pagingObject.openPage(page))}};if($.each(Plugin,(function(funcName,func){datatable[funcName]=func})),void 0!==options)if("string"==typeof options){var method=options;void 0!==(datatable=$(this).data(pluginName))&&(options=datatable.options,Plugin[method].apply(this,Array.prototype.slice.call(arguments,1)))}else datatable.data(pluginName)||$(this).hasClass("datatable-loaded")||(datatable.dataSet=null,datatable.textAlign={left:"datatable-cell-left",center:"datatable-cell-center",right:"datatable-cell-right"},options=$.extend(!0,{},$.fn.KTDatatable.defaults,options),datatable.options=options,Plugin.init.apply(this,[options]),$(datatable.wrap).data(pluginName,datatable));else void 0===(datatable=$(this).data(pluginName))&&$.error("KTDatatable not initialized"),options=datatable.options;return datatable}console.warn("No KTDatatable element exist.")},$.fn.KTDatatable.defaults={data:{type:"local",source:null,pageSize:10,saveState:!0,serverPaging:!1,serverFiltering:!1,serverSorting:!1,autoColumns:!1,attr:{rowProps:[]}},layout:{theme:"default",class:"datatable-primary",scroll:!1,height:null,minHeight:null,footer:!1,header:!0,customScrollbar:!0,spinner:{overlayColor:"#000000",opacity:0,type:"loader",state:"primary",message:!0},icons:{sort:{asc:"flaticon2-arrow-up",desc:"flaticon2-arrow-down"},pagination:{next:"flaticon2-next",prev:"flaticon2-back",first:"flaticon2-fast-back",last:"flaticon2-fast-next",more:"flaticon-more-1"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}},sortable:!0,resizable:!1,filterable:!1,pagination:!0,editable:!1,columns:[],search:{onEnter:!1,input:null,delay:400,key:null},rows:{callback:function(){},beforeTemplate:function(){},afterTemplate:function(){},autoHide:!0},toolbar:{layout:["pagination","info"],placement:["bottom"],items:{pagination:{type:"default",pages:{desktop:{layout:"default",pagesNumber:5},tablet:{layout:"default",pagesNumber:3},mobile:{layout:"compact"}},navigation:{prev:!0,next:!0,first:!0,last:!0,more:!1},pageSizeSelect:[]},info:!0}},translate:{records:{processing:"Please wait...",noRecords:"No records found"},toolbar:{pagination:{items:{default:{first:"First",prev:"Previous",next:"Next",last:"Last",more:"More pages",input:"Page number",select:"Select page size",all:"all"},info:"Showing {{start}} - {{end}} of {{total}}"}}}},extensions:{}}}(jQuery),function($){var pluginName="KTDatatable",pfx="";$.fn.KTDatatable=$.fn.KTDatatable||{},$.fn.KTDatatable.checkbox=function(datatable,options){var Extension={selectedAllRows:!1,selectedRows:[],unselectedRows:[],init:function(){Extension.selectorEnabled()&&(datatable.setDataSourceParam(options.vars.selectedAllRows,!1),datatable.stateRemove("checkbox"),options.vars.requestIds&&datatable.setDataSourceParam(options.vars.requestIds,!0),$(datatable).on("datatable-on-reloaded",(function(){datatable.stateRemove("checkbox"),datatable.setDataSourceParam(options.vars.selectedAllRows,!1),Extension.selectedAllRows=!1,Extension.selectedRows=[],Extension.unselectedRows=[]})),Extension.selectedAllRows=datatable.getDataSourceParam(options.vars.selectedAllRows),$(datatable).on("datatable-on-layout-updated",(function(e,args){args.table==$(datatable.wrap).attr("id")&&datatable.ready((function(){Extension.initVars(),Extension.initEvent(),Extension.initSelect()}))})),$(datatable).on("datatable-on-check",(function(e,ids){ids.forEach((function(id){Extension.selectedRows.push(id),Extension.unselectedRows=Extension.remove(Extension.unselectedRows,id)}));var storage={};storage.selectedRows=$.unique(Extension.selectedRows),storage.unselectedRows=$.unique(Extension.unselectedRows),datatable.stateKeep("checkbox",storage)})),$(datatable).on("datatable-on-uncheck",(function(e,ids){ids.forEach((function(id){Extension.unselectedRows.push(id),Extension.selectedRows=Extension.remove(Extension.selectedRows,id)}));var storage={};storage.selectedRows=$.unique(Extension.selectedRows),storage.unselectedRows=$.unique(Extension.unselectedRows),datatable.stateKeep("checkbox",storage)})))},initEvent:function(){$(datatable.tableHead).find('.checkbox-all > [type="checkbox"]').click((function(e){if(Extension.selectedRows=Extension.unselectedRows=[],datatable.stateRemove("checkbox"),Extension.selectedAllRows=!!$(this).is(":checked"),!options.vars.requestIds){$(this).is(":checked")&&(Extension.selectedRows=$.makeArray($(datatable.tableBody).find('.checkbox-single > [type="checkbox"]').map((function(i,chk){return $(chk).val()}))));var storage={};storage.selectedRows=$.unique(Extension.selectedRows),datatable.stateKeep("checkbox",storage)}datatable.setDataSourceParam(options.vars.selectedAllRows,Extension.selectedAllRows),$(datatable).trigger("datatable-on-click-checkbox",[$(this)])})),$(datatable.tableBody).find('.checkbox-single > [type="checkbox"]').click((function(e){var id=$(this).val();$(this).is(":checked")?(Extension.selectedRows.push(id),Extension.unselectedRows=Extension.remove(Extension.unselectedRows,id)):(Extension.unselectedRows.push(id),Extension.selectedRows=Extension.remove(Extension.selectedRows,id)),!options.vars.requestIds&&Extension.selectedRows.length<1&&$(datatable.tableHead).find('.checkbox-all > [type="checkbox"]').prop("checked",!1);var storage={};storage.selectedRows=Extension.selectedRows.filter(Extension.unique),storage.unselectedRows=Extension.unselectedRows.filter(Extension.unique),datatable.stateKeep("checkbox",storage),$(datatable).trigger("datatable-on-click-checkbox",[$(this)])}))},unique:function(value,index,self){return self.indexOf(value)===index},initSelect:function(){Extension.selectedAllRows&&options.vars.requestIds?(datatable.hasClass("datatable-error")||$(datatable.tableHead).find('.checkbox-all > [type="checkbox"]').prop("checked",!0),datatable.setActiveAll(!0),Extension.unselectedRows.forEach((function(id){datatable.setInactive(id)}))):(Extension.selectedRows.forEach((function(id){datatable.setActive(id)})),!datatable.hasClass("datatable-error")&&$(datatable.tableBody).find('.checkbox-single > [type="checkbox"]').not(":checked").length<1&&$(datatable.tableHead).find('.checkbox-all > [type="checkbox"]').prop("checked",!0))},selectorEnabled:function(){return $.grep(datatable.options.columns,(function(n,i){return n.selector||!1}))[0]},initVars:function(){var storage=datatable.stateGet("checkbox");void 0!==storage&&(Extension.selectedRows=storage.selectedRows||[],Extension.unselectedRows=storage.unselectedRows||[])},getSelectedId:function(path){if(Extension.initVars(),Extension.selectedAllRows&&options.vars.requestIds){void 0===path&&(path=options.vars.rowIds);var selectedAllRows=datatable.getObject(path,datatable.lastResponse)||[];return selectedAllRows.length>0&&Extension.unselectedRows.forEach((function(id){selectedAllRows=Extension.remove(selectedAllRows,parseInt(id))})),$.unique(selectedAllRows)}return Extension.selectedRows},remove:function(array,element){return array.filter((function(e){return e!==element}))}};return datatable.checkbox=function(){return Extension},"object"==typeof options&&(options=$.extend(!0,{},$.fn.KTDatatable.checkbox.default,options),Extension.init.apply(this,[options])),datatable},$.fn.KTDatatable.checkbox.default={vars:{selectedAllRows:"selectedAllRows",requestIds:"requestIds",rowIds:"meta.rowIds"}}}(jQuery);var defaults={layout:{icons:{pagination:{next:"flaticon2-next",prev:"flaticon2-back",first:"flaticon2-fast-back",last:"flaticon2-fast-next",more:"flaticon-more-1"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}}};KTUtil.isRTL()&&(defaults={layout:{icons:{pagination:{next:"flaticon2-back",prev:"flaticon2-next",first:"flaticon2-fast-next",last:"flaticon2-fast-back"},rowDetail:{collapse:"fa fa-caret-down",expand:"fa fa-caret-right"}}}}),$.extend(!0,$.fn.KTDatatable.defaults,defaults),KTUtil.ready((function(){KTLayoutHeader.init("kt_header","kt_header_mobile"),KTLayoutHeaderMenu.init("kt_header_menu","kt_header_menu_wrapper"),KTLayoutHeaderTopbar.init("kt_header_mobile_topbar_toggle"),KTLayoutBrand.init("kt_brand"),KTLayoutAside.init("kt_aside"),KTLayoutAsideToggle.init("kt_aside_toggle"),KTLayoutAsideMenu.init("kt_aside_menu"),KTLayoutSubheader.init("kt_subheader"),KTLayoutContent.init("kt_content"),KTLayoutFooter.init("kt_footer"),KTLayoutScrolltop.init("kt_scrolltop"),KTLayoutStickyCard.init("kt_page_sticky_card"),KTLayoutStretchedCard.init("kt_page_stretched_card"),KTLayoutExamples.init(),KTLayoutDemoPanel.init("kt_demo_panel"),KTLayoutChat.init(),KTLayoutQuickActions.init("kt_quick_actions"),KTLayoutQuickNotifications.init("kt_quick_notifications"),KTLayoutQuickPanel.init("kt_quick_panel"),KTLayoutQuickUser.init("kt_quick_user"),KTLayoutQuickSearch.init("kt_quick_search"),KTLayoutQuickCartPanel.init("kt_quick_cart"),KTLayoutSearch().init("kt_quick_search_dropdown"),KTLayoutSearchOffcanvas().init("kt_quick_search_offcanvas")}));var KTLayoutAsideMenu=function(){var _element,_menuObject,_init=function(){var menuDesktopMode="1"===KTUtil.attr(_element,"data-menu-dropdown")?"dropdown":"accordion",scroll;"1"===KTUtil.attr(_element,"data-menu-scroll")&&(scroll={rememberPosition:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);return KTUtil.isBreakpointUp("lg")&&(height-=KTLayoutBrand.getHeight()),height-=parseInt(KTUtil.css(_element,"marginBottom"))+parseInt(KTUtil.css(_element,"marginTop"))}}),(_menuObject=new KTMenu(_element,{scroll:scroll,submenu:{desktop:menuDesktopMode,tablet:"accordion",mobile:"accordion"},accordion:{expandAll:!1}})).on("submenuToggle",(function(menu){if(!0===KTLayoutAside.isMinimized()&&!1===KTLayoutAside.isHoverable())return!1})),_menuObject.on("linkClick",(function(menu){KTUtil.isBreakpointDown("lg")&&KTLayoutAside.getOffcanvas().hide()}))};return{init:function(id){(_element=KTUtil.getById(id))&&_init()},getElement:function(){return _element},getMenu:function(){return _menuObject},pauseDropdownHover:function(time){_menuObject&&_menuObject.pauseDropdownHover(time)},closeMobileOffcanvas:function(){_menuObject&&KTUtil.isMobileDevice()&&_menuObject.hide()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutAsideMenu);var KTLayoutAsideToggle=function(){var _body,_element,_toggleObject,_init=function(){(_toggleObject=new KTToggle(_element,_body,{targetState:"aside-minimize",toggleState:"active"})).on("toggle",(function(toggle){void 0!==KTLayoutStickyCard&&KTLayoutStickyCard.update(),void 0!==KTLayoutHeaderMenu&&KTLayoutHeaderMenu.pauseDropdownHover(800),void 0!==KTLayoutAsideMenu&&KTLayoutAsideMenu.pauseDropdownHover(800),KTCookie.setCookie("kt_aside_toggle_state",toggle.getState())})),_toggleObject.on("beforeToggle",(function(toggle){!1===KTUtil.hasClass(_body,"aside-minimize")&&KTUtil.hasClass(_body,"aside-minimize-hover")&&KTUtil.removeClass(_body,"aside-minimize-hover")}))};return{init:function(id){_element=KTUtil.getById(id),_body=KTUtil.getBody(),_element&&_init()},getElement:function(){return _element},getToggle:function(){return _toggleObject},onToggle:function(handler){void 0!==_toggleObject.element&&_toggleObject.on("toggle",handler)}}}();"undefined"!=typeof module&&(module.exports=KTLayoutAsideToggle);var KTLayoutAside=function(){var _body,_element,_offcanvasObject,_init=function(){var offcanvasClass=KTUtil.hasClass(_element,"aside-offcanvas-default")?"aside-offcanvas-default":"aside",insideTm,outsideTm;(_offcanvasObject=new KTOffcanvas(_element,{baseClass:offcanvasClass,overlay:!0,closeBy:"kt_aside_close_btn",toggleBy:{target:"kt_aside_mobile_toggle",state:"mobile-toggle-active"}}),KTUtil.hasClass(_body,"aside-fixed")&&KTUtil.hasClass(_body,"aside-minimize-hoverable"))&&(KTUtil.addEvent(_element,"mouseenter",(function(e){e.preventDefault(),!1!==KTUtil.isBreakpointUp("lg")&&(outsideTm&&(clearTimeout(outsideTm),outsideTm=null),insideTm=setTimeout((function(){KTUtil.hasClass(_body,"aside-minimize")&&KTUtil.isBreakpointUp("lg")&&(KTUtil.removeClass(_body,"aside-minimize"),KTUtil.addClass(_body,"aside-minimize-hover"),KTLayoutAsideMenu.getMenu().scrollUpdate(),KTLayoutAsideMenu.getMenu().scrollTop())}),50))})),KTUtil.addEvent(_element,"mouseleave",(function(e){e.preventDefault(),!1!==KTUtil.isBreakpointUp("lg")&&(insideTm&&(clearTimeout(insideTm),insideTm=null),outsideTm=setTimeout((function(){KTUtil.hasClass(_body,"aside-minimize-hover")&&KTUtil.isBreakpointUp("lg")&&(KTUtil.removeClass(_body,"aside-minimize-hover"),KTUtil.addClass(_body,"aside-minimize"),KTLayoutAsideMenu.getMenu().scrollUpdate(),KTLayoutAsideMenu.getMenu().scrollTop())}),100))})))};return{init:function(id){_element=KTUtil.getById(id),_body=KTUtil.getBody(),_element&&_init()},getElement:function(){return _element},getOffcanvas:function(){return _offcanvasObject},isFixed:function(){return KTUtil.hasClass(_body,"aside-fixed")},isMinimized:function(){return KTUtil.hasClass(_body,"aside-fixed")&&KTUtil.hasClass(_body,"aside-minimize")},isHoverable:function(){return KTUtil.hasClass(_body,"aside-fixed")&&KTUtil.hasClass(_body,"aside-minimize-hoverable")}}}();"undefined"!=typeof module&&(module.exports=KTLayoutAside);var KTLayoutBrand=function(){var _element,_getHeight=function(){var height=0;return _element&&(height=KTUtil.actualHeight(_element)),height};return{init:function(id){_element=KTUtil.getById(id)},getElement:function(){return _element},getHeight:function(){return _getHeight()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutBrand);var KTLayoutContent=function(){var _element,_getHeight=function(){var height;return height=KTUtil.getViewPort().height,_element&&(height=height-parseInt(KTUtil.css(_element,"paddingTop"))-parseInt(KTUtil.css(_element,"paddingBottom"))),height-=KTLayoutHeader.getHeight(),height-=KTLayoutSubheader.getHeight(),height-=KTLayoutFooter.getHeight()};return{init:function(id){_element=KTUtil.getById(id)},getHeight:function(){return _getHeight()},getElement:function(){return _element}}}();"undefined"!=typeof module&&(module.exports=KTLayoutContent);var KTLayoutFooter=function(){var _element,_getHeight=function(){var height=0;return _element&&(height=KTUtil.actualHeight(_element)),height};return{init:function(id){_element=KTUtil.getById(id)},getHeight:function(){return _getHeight()},getElement:function(){return _element}}}();"undefined"!=typeof module&&(module.exports=KTLayoutFooter);var KTLayoutHeaderMenu=function(){var _menuElement,_menuObject,_offcanvasElement,_offcanvasObject,_init=function(){_offcanvasObject=new KTOffcanvas(_offcanvasElement,{overlay:!0,baseClass:"header-menu-wrapper",closeBy:"kt_header_menu_mobile_close_btn",toggleBy:{target:"kt_header_mobile_toggle",state:"mobile-toggle-active"}}),(_menuObject=new KTMenu(_menuElement,{submenu:{desktop:"dropdown",tablet:"accordion",mobile:"accordion"},accordion:{slideSpeed:200,expandAll:!1}})).on("linkClick",(function(menu){KTUtil.isBreakpointDown("lg")&&_offcanvasObject.hide()}))};return{init:function(menuId,offcanvasId){_menuElement=KTUtil.getById(menuId),_offcanvasElement=KTUtil.getById(offcanvasId),_menuElement&&_init()},getMenuElement:function(){return _menuElement},getOffcanvasElement:function(){return _offcanvasElement},getMenu:function(){return _menuObject},pauseDropdownHover:function(time){_menuObject&&_menuObject.pauseDropdownHover(time)},getOffcanvas:function(){return _offcanvasObject},closeMobileOffcanvas:function(){_menuObject&&KTUtil.isMobileDevice()&&_offcanvasObject.hide()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutHeaderMenu);var KTLayoutHeaderTopbar=function(){var _toggleElement,_toggleObject,_init=function(){_toggleObject=new KTToggle(_toggleElement,KTUtil.getBody(),{targetState:"topbar-mobile-on",toggleState:"active"})};return{init:function(id){(_toggleElement=KTUtil.getById(id))&&_init()},getToggleElement:function(){return _toggleElement}}}();"undefined"!=typeof module&&(module.exports=KTLayoutHeaderTopbar);var KTLayoutHeader=function(){var _element,_elementForMobile,_object,_getHeight=function(){var height=0;return _element&&(height=KTUtil.actualHeight(_element)+1),height},_getHeightForMobile=function(){var height;return height=KTUtil.actualHeight(_elementForMobile)};return{init:function(id,idForMobile){_element=KTUtil.getById(id),_elementForMobile=KTUtil.getById(idForMobile)},isFixed:function(){return KTUtil.hasClass(KTUtil.getBody(),"header-fixed")},isFixedForMobile:function(){return KTUtil.hasClass(KTUtil.getBody(),"header-mobile-fixed")},getElement:function(){return _element},getElementForMobile:function(){return _elementForMobile},getHeader:function(){},getHeight:function(){return _getHeight()},getHeightForMobile:function(){return _getHeightForMobile()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutHeader);var KTLayoutStickyCard=function(){var _element,_object,_init=function(){var offset=300;void 0!==KTLayoutHeader&&(offset=KTLayoutHeader.getHeight()),(_object=new KTCard(_element,{sticky:{offset:offset,zIndex:90,position:{top:function(){var pos=0,body=KTUtil.getBody();return KTUtil.isBreakpointUp("lg")?(void 0!==KTLayoutHeader&&KTLayoutHeader.isFixed()&&(pos+=KTLayoutHeader.getHeight()),void 0!==KTLayoutSubheader&&KTLayoutSubheader.isFixed()&&(pos+=KTLayoutSubheader.getHeight())):void 0!==KTLayoutHeader&&KTLayoutHeader.isFixedForMobile()&&(pos+=KTLayoutHeader.getHeightForMobile()),pos-=1},left:function(card){return KTUtil.offset(_element).left},right:function(card){var body=KTUtil.getBody(),cardWidth=parseInt(KTUtil.css(_element,"width")),bodyWidth,cardOffsetLeft;return parseInt(KTUtil.css(body,"width"))-cardWidth-KTUtil.offset(_element).left}}}})).initSticky(),KTUtil.addResizeHandler((function(){_object.updateSticky()}))};return{init:function(id){(_element=KTUtil.getById(id))&&_init()},update:function(){_object&&_object.updateSticky()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutStickyCard);var KTLayoutStretchedCard=function(){var _element,_init=function(){var scroll=KTUtil.find(_element,".card-scroll"),cardBody=KTUtil.find(_element,".card-body"),cardHeader=KTUtil.find(_element,".card-header"),height=KTLayoutContent.getHeight();height=(height=(height=(height=(height-=parseInt(KTUtil.actualHeight(cardHeader)))-parseInt(KTUtil.css(_element,"marginTop"))-parseInt(KTUtil.css(_element,"marginBottom")))-parseInt(KTUtil.css(_element,"paddingTop"))-parseInt(KTUtil.css(_element,"paddingBottom")))-parseInt(KTUtil.css(cardBody,"paddingTop"))-parseInt(KTUtil.css(cardBody,"paddingBottom")))-parseInt(KTUtil.css(cardBody,"marginTop"))-parseInt(KTUtil.css(cardBody,"marginBottom")),height-=3,KTUtil.css(scroll,"height",height+"px")};return{init:function(id){(_element=KTUtil.getById(id))&&(_init(),KTUtil.addResizeHandler((function(){_init()})))},update:function(){_init()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutStretchedCard);var KTLayoutSubheader=function(){var _element,_getHeight=function(){var height=0;return _element&&(height=KTUtil.actualHeight(_element)),height};return{init:function(id){_element=KTUtil.getById(id)},isFixed:function(){return KTUtil.hasClass(KTUtil.getBody(),"subheader-fixed")},getElement:function(){return _element},getHeight:function(){return _getHeight()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutSubheader);var KTLayoutChat=function(){var _init=function(element){var scrollEl=KTUtil.find(element,".scroll"),cardBodyEl=KTUtil.find(element,".card-body"),cardHeaderEl=KTUtil.find(element,".card-header"),cardFooterEl=KTUtil.find(element,".card-footer");scrollEl&&(KTUtil.scrollInit(scrollEl,{windowScroll:!1,mobileNativeScroll:!0,desktopNativeScroll:!1,resetHeightOnDestroy:!0,handleWindowResize:!0,rememberPosition:!0,height:function(){var height;return KTUtil.isBreakpointDown("lg")?KTUtil.hasAttr(scrollEl,"data-mobile-height")?parseInt(KTUtil.attr(scrollEl,"data-mobile-height")):400:KTUtil.isBreakpointUp("lg")&&KTUtil.hasAttr(scrollEl,"data-height")?parseInt(KTUtil.attr(scrollEl,"data-height")):(height=KTLayoutContent.getHeight(),scrollEl&&(height=height-parseInt(KTUtil.css(scrollEl,"margin-top"))-parseInt(KTUtil.css(scrollEl,"margin-bottom"))),cardHeaderEl&&(height=(height-=parseInt(KTUtil.css(cardHeaderEl,"height")))-parseInt(KTUtil.css(cardHeaderEl,"margin-top"))-parseInt(KTUtil.css(cardHeaderEl,"margin-bottom"))),cardBodyEl&&(height=height-parseInt(KTUtil.css(cardBodyEl,"padding-top"))-parseInt(KTUtil.css(cardBodyEl,"padding-bottom"))),cardFooterEl&&(height=(height-=parseInt(KTUtil.css(cardFooterEl,"height")))-parseInt(KTUtil.css(cardFooterEl,"margin-top"))-parseInt(KTUtil.css(cardFooterEl,"margin-bottom"))),height-=2)}}),KTUtil.on(element,".card-footer textarea","keydown",(function(e){if(13==e.keyCode)return _handeMessaging(element),e.preventDefault(),!1})),KTUtil.on(element,".card-footer .chat-send","click",(function(e){_handeMessaging(element)})))},_handeMessaging=function(element){var messagesEl=KTUtil.find(element,".messages"),scrollEl=KTUtil.find(element,".scroll"),textarea=KTUtil.find(element,"textarea");if(0!==textarea.value.length){var node=document.createElement("DIV");KTUtil.addClass(node,"d-flex flex-column mb-5 align-items-end");var html="",ps;html+='<div class="d-flex align-items-center">',html+="\t<div>",html+='\t\t<span class="text-muted font-size-sm">2 Hours</span>',html+='\t\t<a href="#" class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">You</a>',html+="\t</div>",html+='\t<div class="symbol symbol-circle symbol-40 ml-3">',html+='\t\t<img alt="Pic" src="assets/media/users/300_12.jpg"/>',html+="\t</div>",html+="</div>",html+='<div class="mt-2 rounded p-5 bg-light-primary text-dark-50 font-weight-bold font-size-lg text-right max-w-400px">'+textarea.value+"</div>",KTUtil.setHTML(node,html),messagesEl.appendChild(node),textarea.value="",scrollEl.scrollTop=parseInt(KTUtil.css(messagesEl,"height")),(ps=KTUtil.data(scrollEl).get("ps"))&&ps.update(),setTimeout((function(){var node=document.createElement("DIV");KTUtil.addClass(node,"d-flex flex-column mb-5 align-items-start");var html="",ps;html+='<div class="d-flex align-items-center">',html+='\t<div class="symbol symbol-circle symbol-40 mr-3">',html+='\t\t<img alt="Pic" src="assets/media/users/300_12.jpg"/>',html+="\t</div>",html+="\t<div>",html+='\t\t<a href="#" class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">Matt Pears</a>',html+='\t\t<span class="text-muted font-size-sm">Just now</span>',html+="\t</div>",html+="</div>",html+='<div class="mt-2 rounded p-5 bg-light-success text-dark-50 font-weight-bold font-size-lg text-left max-w-400px">',html+="Right before vacation season we have the next Big Deal for you.",html+="</div>",KTUtil.setHTML(node,html),messagesEl.appendChild(node),textarea.value="",scrollEl.scrollTop=parseInt(KTUtil.css(messagesEl,"height")),(ps=KTUtil.data(scrollEl).get("ps"))&&ps.update()}),2e3)}};return{init:function(){_init(KTUtil.getById("kt_chat_modal")),"keenthemes.com"!=encodeURI(window.location.hostname)&&"www.keenthemes.com"!=encodeURI(window.location.hostname)||setTimeout((function(){if(!KTCookie.getCookie("kt_app_chat_shown")){var expires=new Date((new Date).getTime()+36e5);KTCookie.setCookie("kt_app_chat_shown",1,{expires:expires}),KTUtil.getById("kt_app_chat_launch_btn")&&KTUtil.getById("kt_app_chat_launch_btn").click()}}),2e3)},setup:function(element){_init(element)}}}();"undefined"!=typeof module&&(module.exports=KTLayoutChat);var KTLayoutDemoPanel=function(){var _element,_offcanvasObject,_init=function(){_offcanvasObject=new KTOffcanvas(_element,{overlay:!0,baseClass:"offcanvas",placement:"right",closeBy:"kt_demo_panel_close",toggleBy:"kt_demo_panel_toggle"});var header=KTUtil.find(_element,".offcanvas-header"),content=KTUtil.find(_element,".offcanvas-content"),wrapper=KTUtil.find(_element,".offcanvas-wrapper"),footer=KTUtil.find(_element,".offcanvas-footer");KTUtil.scrollInit(wrapper,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);return header&&(height-=parseInt(KTUtil.actualHeight(header)),height-=parseInt(KTUtil.css(header,"marginTop")),height-=parseInt(KTUtil.css(header,"marginBottom"))),content&&(height-=parseInt(KTUtil.css(content,"marginTop")),height-=parseInt(KTUtil.css(content,"marginBottom"))),wrapper&&(height-=parseInt(KTUtil.css(wrapper,"marginTop")),height-=parseInt(KTUtil.css(wrapper,"marginBottom"))),footer&&(height-=parseInt(KTUtil.actualHeight(footer)),height-=parseInt(KTUtil.css(footer,"marginTop")),height-=parseInt(KTUtil.css(footer,"marginBottom"))),height-=parseInt(KTUtil.css(_element,"paddingTop")),height-=parseInt(KTUtil.css(_element,"paddingBottom")),height-=2}}),"undefined"!=typeof offcanvas&&0===offcanvas.length&&offcanvas.on("hide",(function(){var expires=new Date((new Date).getTime()+36e5);KTCookie.setCookie("kt_demo_panel_shown",1,{expires:expires})}))},_remind=function(){"keenthemes.com"!=encodeURI(window.location.hostname)&&"www.keenthemes.com"!=encodeURI(window.location.hostname)||setTimeout((function(){if(!KTCookie.getCookie("kt_demo_panel_shown")){var expires=new Date((new Date).getTime()+9e5);KTCookie.setCookie("kt_demo_panel_shown",1,{expires:expires}),void 0!==_offcanvasObject&&_offcanvasObject.show()}}),4e3)};return{init:function(id){(_element=KTUtil.getById(id))&&(_init(),_remind())}}}();"undefined"!=typeof module&&(module.exports=KTLayoutDemoPanel);var KTLayoutExamples=function(){var initDefaultMode=function(element){var elements=element;void 0===elements&&(elements=document.querySelectorAll(".example:not(.example-compact):not(.example-hover):not(.example-basic)"));for(var i=0;i<elements.length;++i){var example=elements[i],copy=KTUtil.find(example,".example-copy"),clipboard;new ClipboardJS(copy,{target:function(trigger){var example=trigger.closest(".example"),el=KTUtil.find(example,".example-code .tab-pane.active");return el||(el=KTUtil.find(example,".example-code")),el}}).on("success",(function(e){KTUtil.addClass(e.trigger,"example-copied"),e.clearSelection(),setTimeout((function(){KTUtil.removeClass(e.trigger,"example-copied")}),2e3)}))}},initCompactMode=function(element){var example,code,toggle,copy,clipboard,elements;if(void 0===(elements=element))var elements=document.querySelectorAll(".example.example-compact");for(var i=0;i<elements.length;++i){var example=elements[i],toggle=KTUtil.find(example,".example-toggle"),copy=KTUtil.find(example,".example-copy"),clipboard;KTUtil.addEvent(toggle,"click",(function(){var example=this.closest(".example"),code=KTUtil.find(example,".example-code"),the=this;KTUtil.hasClass(this,"example-toggled")?KTUtil.slideUp(code,300,(function(){KTUtil.removeClass(the,"example-toggled"),KTUtil.removeClass(code,"example-code-on"),KTUtil.hide(code)})):(KTUtil.addClass(code,"example-code-on"),KTUtil.addClass(this,"example-toggled"),KTUtil.slideDown(code,300,(function(){KTUtil.show(code)})))})),new ClipboardJS(copy,{target:function(trigger){var example=trigger.closest(".example"),el=KTUtil.find(example,".example-code .tab-pane.active");return el||(el=KTUtil.find(example,".example-code")),el}}).on("success",(function(e){KTUtil.addClass(e.trigger,"example-copied"),e.clearSelection(),setTimeout((function(){KTUtil.removeClass(e.trigger,"example-copied")}),2e3)}))}};return{init:function(element,options){initDefaultMode(element),initCompactMode(element)}}}();"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTLayoutExamples);var KTLayoutQuickActions=function(){var _element,_offcanvasObject,_init=function(){var header=KTUtil.find(_element,".offcanvas-header"),content=KTUtil.find(_element,".offcanvas-content");_offcanvasObject=new KTOffcanvas(_element,{overlay:!0,baseClass:"offcanvas",placement:"right",closeBy:"kt_quick_actions_close",toggleBy:"kt_quick_actions_toggle"}),KTUtil.scrollInit(content,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);return header&&(height-=parseInt(KTUtil.actualHeight(header)),height-=parseInt(KTUtil.css(header,"marginTop")),height-=parseInt(KTUtil.css(header,"marginBottom"))),content&&(height-=parseInt(KTUtil.css(content,"marginTop")),height-=parseInt(KTUtil.css(content,"marginBottom"))),height-=parseInt(KTUtil.css(_element,"paddingTop")),height-=parseInt(KTUtil.css(_element,"paddingBottom")),height-=2}})};return{init:function(id){(_element=KTUtil.getById(id))&&_init()},getElement:function(){return _element}}}();"undefined"!=typeof module&&(module.exports=KTLayoutQuickActions);var KTLayoutQuickCartPanel=function(){var _element,_offcanvasObject,_init=function(){_offcanvasObject=new KTOffcanvas(_element,{overlay:!0,baseClass:"offcanvas",placement:"right",closeBy:"kt_quick_cart_close",toggleBy:"kt_quick_cart_toggle"});var header=KTUtil.find(_element,".offcanvas-header"),content=KTUtil.find(_element,".offcanvas-content"),wrapper=KTUtil.find(_element,".offcanvas-wrapper"),footer=KTUtil.find(_element,".offcanvas-footer");KTUtil.scrollInit(wrapper,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);return header&&(height-=parseInt(KTUtil.actualHeight(header)),height-=parseInt(KTUtil.css(header,"marginTop")),height-=parseInt(KTUtil.css(header,"marginBottom"))),content&&(height-=parseInt(KTUtil.css(content,"marginTop")),height-=parseInt(KTUtil.css(content,"marginBottom"))),wrapper&&(height-=parseInt(KTUtil.css(wrapper,"marginTop")),height-=parseInt(KTUtil.css(wrapper,"marginBottom"))),footer&&(height-=parseInt(KTUtil.actualHeight(footer)),height-=parseInt(KTUtil.css(footer,"marginTop")),height-=parseInt(KTUtil.css(footer,"marginBottom"))),height-=parseInt(KTUtil.css(_element,"paddingTop")),height-=parseInt(KTUtil.css(_element,"paddingBottom")),height-=2}})};return{init:function(id){(_element=KTUtil.getById(id))&&_init()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutQuickCartPanel);var KTLayoutQuickNotifications=function(){var _element,_offcanvasObject,_init=function(){var header=KTUtil.find(_element,".offcanvas-header"),content=KTUtil.find(_element,".offcanvas-content");_offcanvasObject=new KTOffcanvas(_element,{overlay:!0,baseClass:"offcanvas",placement:"right",closeBy:"kt_quick_notifications_close",toggleBy:"kt_quick_notifications_toggle"}),KTUtil.scrollInit(content,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);return header&&(height-=parseInt(KTUtil.actualHeight(header)),height-=parseInt(KTUtil.css(header,"marginTop")),height-=parseInt(KTUtil.css(header,"marginBottom"))),content&&(height-=parseInt(KTUtil.css(content,"marginTop")),height-=parseInt(KTUtil.css(content,"marginBottom"))),height-=parseInt(KTUtil.css(_element,"paddingTop")),height-=parseInt(KTUtil.css(_element,"paddingBottom")),height-=2}})};return{init:function(id){(_element=KTUtil.getById(id))&&_init()},getElement:function(){return _element}}}();"undefined"!=typeof module&&(module.exports=KTLayoutQuickNotifications);var KTLayoutQuickPanel=function(){var _element,_offcanvasObject,_notificationsElement,_logsElement,_settingsElement,_getContentHeight=function(){var height,header=KTUtil.find(_element,".offcanvas-header"),content=KTUtil.find(_element,".offcanvas-content"),height=parseInt(KTUtil.getViewPort().height);return header&&(height-=parseInt(KTUtil.actualHeight(header)),height-=parseInt(KTUtil.css(header,"marginTop")),height-=parseInt(KTUtil.css(header,"marginBottom"))),content&&(height-=parseInt(KTUtil.css(content,"marginTop")),height-=parseInt(KTUtil.css(content,"marginBottom"))),height-=parseInt(KTUtil.css(_element,"paddingTop")),height-=parseInt(KTUtil.css(_element,"paddingBottom")),height-=2},_init=function(){_offcanvasObject=new KTOffcanvas(_element,{overlay:!0,baseClass:"offcanvas",placement:"right",closeBy:"kt_quick_panel_close",toggleBy:"kt_quick_panel_toggle"})},_initNotifications=function(){KTUtil.scrollInit(_notificationsElement,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return _getContentHeight()}})},_initLogs=function(){KTUtil.scrollInit(_logsElement,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return _getContentHeight()}})},_initSettings=function(){KTUtil.scrollInit(_settingsElement,{mobileNativeScroll:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return _getContentHeight()}})},_updateScrollbars=function(){$(_element).find('a[data-toggle="tab"]').on("shown.bs.tab",(function(e){KTUtil.scrollUpdate(_notificationsElement),KTUtil.scrollUpdate(_logsElement),KTUtil.scrollUpdate(_settingsElement)}))};return{init:function(id){_element=KTUtil.getById(id),_notificationsElement=KTUtil.getById("kt_quick_panel_notifications"),_logsElement=KTUtil.getById("kt_quick_panel_logs"),_settingsElement=KTUtil.getById("kt_quick_panel_settings"),_init(),_initNotifications(),_initLogs(),_initSettings(),_updateScrollbars()}}}();"undefined"!=typeof module&&(module.exports=KTLayoutQuickPanel);var KTLayoutQuickSearch=function(){var _element,_offcanvasObject,_init=function(){var header=KTUtil.find(_element,".offcanvas-header"),content=KTUtil.find(_element,".offcanvas-content"),form=KTUtil.find(_element,".quick-search-form"),results=KTUtil.find(_element,".quick-search-wrapper");_offcanvasObject=new KTOffcanvas(_element,{overlay:!0,baseClass:"offcanvas",placement:"right",closeBy:"kt_quick_search_close",toggleBy:"kt_quick_search_toggle"}),KTUtil.scrollInit(results,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);return header&&(height-=parseInt(KTUtil.actualHeight(header)),height-=parseInt(KTUtil.css(header,"marginTop")),height-=parseInt(KTUtil.css(header,"marginBottom"))),content&&(height-=parseInt(KTUtil.css(content,"marginTop")),height-=parseInt(KTUtil.css(content,"marginBottom"))),results&&(height-=parseInt(KTUtil.actualHeight(form)),height-=parseInt(KTUtil.css(form,"marginTop")),height-=parseInt(KTUtil.css(form,"marginBottom")),height-=parseInt(KTUtil.css(results,"marginTop")),height-=parseInt(KTUtil.css(results,"marginBottom"))),height-=parseInt(KTUtil.css(_element,"paddingTop")),height-=parseInt(KTUtil.css(_element,"paddingBottom")),height-=2}})};return{init:function(id){(_element=KTUtil.getById(id))&&_init()},getElement:function(){return _element}}}();"undefined"!=typeof module&&(module.exports=KTLayoutQuickSearch);var KTLayoutQuickUser=function(){var _element,_offcanvasObject,_init=function(){var header=KTUtil.find(_element,".offcanvas-header"),content=KTUtil.find(_element,".offcanvas-content");_offcanvasObject=new KTOffcanvas(_element,{overlay:!0,baseClass:"offcanvas",placement:"right",closeBy:"kt_quick_user_close",toggleBy:"kt_quick_user_toggle"}),KTUtil.scrollInit(content,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);return header&&(height-=parseInt(KTUtil.actualHeight(header)),height-=parseInt(KTUtil.css(header,"marginTop")),height-=parseInt(KTUtil.css(header,"marginBottom"))),content&&(height-=parseInt(KTUtil.css(content,"marginTop")),height-=parseInt(KTUtil.css(content,"marginBottom"))),height-=parseInt(KTUtil.css(_element,"paddingTop")),height-=parseInt(KTUtil.css(_element,"paddingBottom")),height-=2}})};return{init:function(id){(_element=KTUtil.getById(id))&&_init()},getElement:function(){return _element}}}();"undefined"!=typeof module&&(module.exports=KTLayoutQuickUser);var KTLayoutScrolltop=function(){var _element,_object,_init=function(){_object=new KTScrolltop(_element,{offset:300,speed:600})};return{init:function(id){(_element=KTUtil.getById(id))&&_init()},getElement:function(){return _element}}}();"undefined"!=typeof module&&(module.exports=KTLayoutScrolltop);var KTLayoutSearch=function(){var _target,_form,_input,_closeIcon,_resultWrapper,_resultDropdown,_resultDropdownToggle,_closeIconContainer,_inputGroup,_query="",_hasResult=!1,_timeout=!1,_isProcessing=!1,_requestTimeout=200,_spinnerClass="spinner spinner-sm spinner-primary",_resultClass="quick-search-has-result",_minLength=2,_showProgress=function(){_isProcessing=!0,KTUtil.addClass(_closeIconContainer,_spinnerClass),_closeIcon&&KTUtil.hide(_closeIcon)},_hideProgress=function(){_isProcessing=!1,KTUtil.removeClass(_closeIconContainer,_spinnerClass),_closeIcon&&(_input.value.length<2?KTUtil.hide(_closeIcon):KTUtil.show(_closeIcon,"flex"))},_showDropdown=function(){_resultDropdownToggle&&!KTUtil.hasClass(_resultDropdown,"show")&&($(_resultDropdownToggle).dropdown("toggle"),$(_resultDropdownToggle).dropdown("update"))},_hideDropdown=function(){_resultDropdownToggle&&KTUtil.hasClass(_resultDropdown,"show")&&$(_resultDropdownToggle).dropdown("toggle")},_processSearch=function(){if(_hasResult&&_query===_input.value)return _hideProgress(),KTUtil.addClass(_target,_resultClass),_showDropdown(),void KTUtil.scrollUpdate(_resultWrapper);_query=_input.value,KTUtil.removeClass(_target,_resultClass),_showProgress(),_hideDropdown(),setTimeout((function(){$.ajax({url:HOST_URL+"/api/quick_search.php",data:{query:_query},dataType:"html",success:function(res){_hasResult=!0,_hideProgress(),KTUtil.addClass(_target,_resultClass),KTUtil.setHTML(_resultWrapper,res),_showDropdown(),KTUtil.scrollUpdate(_resultWrapper)},error:function(res){_hasResult=!1,_hideProgress(),KTUtil.addClass(_target,_resultClass),KTUtil.setHTML(_resultWrapper,'<span class="font-weight-bold text-muted">Connection error. Please try again later..</div>'),_showDropdown(),KTUtil.scrollUpdate(_resultWrapper)}})}),1e3)},_handleCancel=function(e){_input.value="",_query="",_hasResult=!1,KTUtil.hide(_closeIcon),KTUtil.removeClass(_target,_resultClass),_hideDropdown()},_handleSearch=function(){if(_input.value.length<2)return _hideProgress(),void _hideDropdown();1!=_isProcessing&&(_timeout&&clearTimeout(_timeout),_timeout=setTimeout((function(){_processSearch()}),200))};return{init:function(id){(_target=KTUtil.getById(id))&&(_form=KTUtil.find(_target,".quick-search-form"),_input=KTUtil.find(_target,".form-control"),_closeIcon=KTUtil.find(_target,".quick-search-close"),_resultWrapper=KTUtil.find(_target,".quick-search-wrapper"),_resultDropdown=KTUtil.find(_target,".dropdown-menu"),_resultDropdownToggle=KTUtil.find(_target,'[data-toggle="dropdown"]'),_inputGroup=KTUtil.find(_target,".input-group"),_closeIconContainer=KTUtil.find(_target,".input-group .input-group-append"),KTUtil.addEvent(_input,"keyup",_handleSearch),KTUtil.addEvent(_input,"focus",_handleSearch),_form.onkeypress=function(e){var key;13==(e.charCode||e.keyCode||0)&&e.preventDefault()},KTUtil.addEvent(_closeIcon,"click",_handleCancel))}}};"undefined"!=typeof module&&(module.exports=KTLayoutSearch);var KTLayoutSearchInline=KTLayoutSearch,KTLayoutSearchOffcanvas=KTLayoutSearch;